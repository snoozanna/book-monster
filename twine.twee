:: StoryTitle
The Book Monster


:: StoryData
{
	"ifid": "5AC7574A-0BC8-4EAE-924F-164E9D0C540A",
	"format": "SugarCube",
	"format-version": "2.36.1",
	"start": "landing",
	"zoom": 1
}



:: Story Stylesheet [stylesheet]
@import url('https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css');
@import url('https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css');
@import url('https://fonts.googleapis.com/css2?family=Playwrite+DE+Grund:wght@100..400&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Playwrite+DE+Grund:wght@100..400&family=Sora:wght@100..800&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Bungee&display=swap');
@import url("styles/generics.css");
@import url("styles/styles.css");



:: UserScript [script]
/* Import external libraries. */

// importScripts(["https://code.jquery.com/jquery-3.5.1.slim.min.js",
// "https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js", 
// "https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.min.js"]);



:: Story JavaScript [script]
$('#ui-bar').remove();
$(document.head).find('#style-ui-bar').remove();

setup.eatWords = () => {
  console.log("eating words")
  const allSpans = document.querySelectorAll(".eating-container span");  // Select all span elements
  let devourableWords = [];

  // Filter out spans that have the 'keep' class
  allSpans.forEach(span => {
    if (!span.classList.contains('keep')) {
      devourableWords.push(span);  // Only add devourable words to the array
    }
  });

  // Function to devour a random word
  function devourRandomWord() {
    if (devourableWords.length > 0) {
      // Choose a random index for the word to be devoured
      const randomIndex = Math.floor(Math.random() * devourableWords.length);
      const wordSpan = devourableWords[randomIndex];

      // Add the 'eaten' class to hide the word
      if (wordSpan) {
        wordSpan.classList.add("eaten");
        devourableWords.splice(randomIndex, 1);  // Remove the devoured word from the list

        // Continue devouring until all devourable words are eaten
        setTimeout(devourRandomWord, 500);
      }
    }
  }

  // Start devouring random words
  devourRandomWord();
}

setup.quickEatWords = () => {
  const allSpans = document.querySelectorAll(".eating-container span");  // Select all span elements
  let devourableWords = [];

  // Filter out spans that have the 'keep' class
  allSpans.forEach(span => {
    if (!span.classList.contains('keep')) {
      devourableWords.push(span);  // Only add devourable words to the array
    }
  });

  // Function to devour a random word
  function devourRandomWord() {
    if (devourableWords.length > 0) {
      // Choose a random index for the word to be devoured
      const randomIndex = Math.floor(Math.random() * devourableWords.length);
      const wordSpan = devourableWords[randomIndex];

      // Add the 'eaten' class to hide the word
      if (wordSpan) {
        wordSpan.classList.add("eaten");
        devourableWords.splice(randomIndex, 1);  // Remove the devoured word from the list

        // Continue devouring until all devourable words are eaten
        setTimeout(devourRandomWord, 50);
      }
    } else {
      // Once all devourable words are eaten, add "remaining" class to "keep" spans
      const keepSpans = document.querySelectorAll(".keep");
      keepSpans.forEach(span => {
        span.classList.add("remaining");
      });
    }
  }

  // Start devouring random words
  devourRandomWord();
}

setup.restoreWords = () => {
  const allSpans = document.querySelectorAll(".eating-container span");

  let restorableWords = [];

  // Filter out spans that have the 'keep' class
  allSpans.forEach(span => {
    if (span.classList.contains('eaten')) {
      restorableWords.push(span);  // Only add devourable words to the array
    }
  });

  // Function to devour a random word
  function restoreRandomWord() {
    if (restorableWords.length > 0) {
      // Choose a random index for the word to be devoured
      const randomIndex = Math.floor(Math.random() * restorableWords.length);
      const wordSpan = restorableWords[randomIndex];

      // Add the 'eaten' class to hide the word
      if (wordSpan) {
        wordSpan.classList.remove("eaten");
        restorableWords.splice(randomIndex, 1);  // Remove the devoured word from the list

        // Continue devouring until all devourable words are eaten
        setTimeout(restoreRandomWord, 50);
      }
    } else {
      // Once all devourable words are eaten, add "remaining" class to "keep" spans
      const keepSpans = document.querySelectorAll(".keep");
      keepSpans.forEach(span => {
        span.classList.remove("remaining");
      });
    }
  }

  // Start devouring random words
  restoreRandomWord();

}

setup.moveWords = () => {
      console.log("running")
    const words = document.querySelectorAll('.wordDisappear');
    console.log("words", words)

        // Helper function to generate random values
        function getRandom(min, max) {
            return Math.random() * (max - min) + min;
        }

        words.forEach((word, index) => {
            const duration = getRandom(10, 20); // Random animation duration between 10 and 20 seconds
            const delay = getRandom(0, 5);      // Random delay between 0 and 5 seconds

            // Create random movement and scale values
            const keyframes = `
                @keyframes move${index} {
                    0% { transform: translate(0, 0) scale(1) rotate(0deg); opacity: 0; }
                    20% { transform: translate(${getRandom(-50, 50)}vw, ${getRandom(-50, 50)}vh) scale(${getRandom(0.5, 1.5)}) rotate(${getRandom(-360, 360)}deg); opacity: ${getRandom(0.1, 0.5)}; }
                    50% { transform: translate(${getRandom(-50, 50)}vw, ${getRandom(-50, 50)}vh) scale(${getRandom(0.5, 1.5)}) rotate(${getRandom(-360, 360)}deg); opacity: ${getRandom(0.5, 1)}; }
                    75% { transform: translate(${getRandom(-50, 50)}vw, ${getRandom(-50, 50)}vh) scale(${getRandom(0.5, 1.5)}) rotate(${getRandom(-360, 360)}deg); opacity: ${getRandom(0.5, 1)}; }
                    100% { transform: translate(0, 0) scale(1) rotate(0deg); opacity: 1; }
                }
            `;

            // Inject keyframes into a style element in the document
            const styleSheet = document.styleSheets[0];
            styleSheet.insertRule(keyframes, styleSheet.cssRules.length);

            // Apply the animation to the word
            word.style.animation = `move${index} ${duration}s infinite ease-in-out`;
            word.style.animationDelay = `${delay}s`;
        });
}
setup.stillWords = () => {
    const words = document.querySelectorAll('.wordDisappear');
     // Helper function to generate random values
        function getRandom(min, max) {
            return Math.random() * (max - min) + min;
        }
    words.forEach((word, index) => {
            const duration = getRandom(10, 20); // Random animation duration between 10 and 20 seconds
            const delay = getRandom(0, 5);      // Random delay between 0 and 5 seconds

            // Create random movement and scale values
            const keyframes = `
                @keyframes move${index} {
                    0% { transform: translate(0, 0) scale(1) rotate(0deg); opacity: 0; }
                    20% { transform: translate(${getRandom(-50, 50)}vw, ${getRandom(-50, 50)}vh) scale(${getRandom(0.5, 1.5)}) rotate(${getRandom(-360, 360)}deg); opacity: ${getRandom(0.1, 0.5)}; }
                    50% { transform: translate(${getRandom(-50, 50)}vw, ${getRandom(-50, 50)}vh) scale(${getRandom(0.5, 1.5)}) rotate(${getRandom(-360, 360)}deg); opacity: ${getRandom(0.5, 1)}; }
                    75% { transform: translate(${getRandom(-50, 50)}vw, ${getRandom(-50, 50)}vh) scale(${getRandom(0.5, 1.5)}) rotate(${getRandom(-360, 360)}deg); opacity: ${getRandom(0.5, 1)}; }
                    100% { transform: translate(0, 0) scale(1) rotate(0deg); opacity: 1; font-size: 1.4em; color: #fff}
                }
            `;

            // Inject keyframes into a style element in the document
            const styleSheet = document.styleSheets[0];
            styleSheet.insertRule(keyframes, styleSheet.cssRules.length);

            // Apply the animation to the word

            word.style.animation = `move${index} ${duration}s forwards ease-in`;
            word.style.animationDelay = `${delay}s`;
        }); 
}


setup.handleFileUpload = () => {

  async function uploadImage(file) {
    const uploadPreset = 'f4uwtwnx';
    const cloudinaryURL = 'https://api.cloudinary.com/v1_1/dzutg2kf2/image/upload';
    const errorMount = document.getElementById("error");
    const successMount = document.getElementById("success");
    const logo = document.getElementById("loadingLogo"); // Get the logo element

    // Show the rotating logo when the upload starts
    logo.style.display = "block";
    errorMount.innerText = "Image uploading...";

    const formData = new FormData();
    formData.append('file', file);
    formData.append('upload_preset', uploadPreset);

    try {
      const response = await fetch(`${cloudinaryURL}`, {
        method: 'POST',
        body: formData
      });
      if (!response.ok) {
        throw new Error('Image upload failed');
      }

      const data = await response.json();
      console.log('Image uploaded successfully:', data);
     
    } catch (error) {
      console.error('Error uploading image:', error.message);
      errorMount.innerText = "Image upload failed.";
    } finally {
      // Hide the rotating logo after the upload finishes
      logo.style.display = "none";
      successMount.style.display = "none";
      setTimeout(() => {
      Engine.play("ger7-1");
      }, 5000); //
    }
  }

  // Example usage
  const inputElement = document.getElementById('inputImg');
  inputElement.addEventListener('change', (event) => {
    const file = event.target.files[0];
    uploadImage(file);
  });
  inputElement.click();
};


setup.boatMultiDraggable = () => {
  let completed = [];
  const completeList = ["chapOne", "chapTwo", "chapThree", "chapFour", "chapFive"];
  console.log("boatMultiDraggable running");

  const messageContainer = document.getElementById("message");

  // Get device width and height
  const deviceWidth = window.innerWidth;
  const deviceHeight = window.innerHeight;

  // Define target areas for boat and elephant
  const targetAreas = {
    chapOne: { 
      x: 0,
      y: deviceHeight * 0.55,  // Start at 55% of the height
      width: deviceWidth,
      height: deviceHeight * 0.45 // Cover 45% of the screen
    },
    chapTwo: { 
      x: 0,
      y: deviceHeight * 0.55,
      width: deviceWidth,
      height: deviceHeight * 0.45
    },
    chapThree: { 
      x: 0,
      y: deviceHeight * 0.55,
      width: deviceWidth,
      height: deviceHeight * 0.45
    },
    chapFour: { 
      x: 0,
      y: deviceHeight * 0.55,
      width: deviceWidth,
      height: deviceHeight * 0.45
    },
    chapFive: { 
      x: 0,
      y: deviceHeight * 0.55,
      width: deviceWidth,
      height: deviceHeight * 0.45
    }
  };

  const elements = [
    { id: 'chapter-one', targetArea: targetAreas.chapOne, name: 'chapOne' },
    { id: 'chapter-two', targetArea: targetAreas.chapTwo, name: 'chapTwo' }, 
    { id: 'chapter-three', targetArea: targetAreas.chapThree, name: 'chapThree' }, 
    { id: 'chapter-four', targetArea: targetAreas.chapFour, name: 'chapFour' }, 
    { id: 'chapter-five', targetArea: targetAreas.chapFive, name: 'chapFive' }
  ];

  const portContainer = document.getElementById('port-container');

  // Predefined color sequence
  const colorSequence = ['#37254d', '#8054b5', '#5464b5', '#54b1b5', '#7fd1b9']; // Array of 5 colors

  // Function to handle the drag logic
  const makeDraggable = (element, name, targetArea) => {
    let offsetX, offsetY;
    const elem = document.getElementById(element);

    elem.addEventListener('touchstart', (e) => {
      const touch = e.touches[0];
      offsetX = touch.clientX - elem.getBoundingClientRect().left;
      offsetY = touch.clientY - elem.getBoundingClientRect().top;
      elem.style.cursor = 'grabbing';
    });

    elem.addEventListener('touchmove', (e) => {
      e.preventDefault(); // Prevent scrolling
      const touch = e.touches[0];
      const x = touch.clientX - offsetX;
      const y = touch.clientY - offsetY;
      elem.style.left = `${x}px`;
      elem.style.top = `${y}px`;
    });

    elem.addEventListener('touchend', () => {
      elem.style.cursor = 'grab';

      // Check if the element is within the target area
      const elemRect = elem.getBoundingClientRect();
      const portRect = portContainer.getBoundingClientRect();
      const elemX = elemRect.left - portRect.left;
      const elemY = elemRect.top - portRect.top;

      console.log(`${name} position: (${elemX}, ${elemY})`);
      console.log(`Target area: (${targetArea.x}, ${targetArea.y})`);

      if (
        elemX >= targetArea.x &&
        elemX + elemRect.width <= targetArea.x + targetArea.width &&
        elemY >= targetArea.y &&
        elemY + elemRect.height <= targetArea.y + targetArea.height
      ) {
        elem.classList.add('win');
        updateCompletion(name, true);
        console.log(`win ${name}!`, completed);
      } else {
        elem.classList.remove('win');
        updateCompletion(name, false);
        console.log(`lose ${name}.`, completed);
      }
    });
  };

  // Function to update the background color based on the number of wins
  const updateBackgroundColor = () => {
    const totalWins = completed.length;
    const maxWins = completeList.length;

    if (totalWins > 0 && totalWins <= maxWins) {
      // Apply color from the sequence based on how many wins have been completed
      document.body.style.backgroundColor = colorSequence[totalWins - 1];
    }
  };

  // Update the completion status of elements
  const updateCompletion = (name, isComplete) => {
    const index = completed.indexOf(name);
    if (isComplete && index === -1) {
      completed.push(name);
    } else if (!isComplete && index > -1) {
      completed.splice(index, 1);
    }
    updateBackgroundColor(); // Update color on each win/lose
    checkCompleted();
  };

  // Check if all tasks are completed
  const checkCompleted = () => {
    if (completeList.every(item => completed.includes(item))) {
      messageContainer.textContent = "WINNER!!";
      console.log("WINN!!");

      // Transition to the next passage in SugarCube
      Engine.play("ger15-1");  

    } else {
      messageContainer.textContent = "Keep going...";
      console.log("keep going");
    }
  };

  // Initialize draggable elements
  elements.forEach(({ id, targetArea, name }) => makeDraggable(id, name, targetArea));
};



:: StoryInit
<<cacheaudio "timer" "../assets/sound/timer.mp3">>
<<cacheaudio "ping1" "../assets/sound/ping1.mp3">>
<<cacheaudio "alarm" "../assets/sound/alarm.mp3">>
<<cacheaudio "correct" "../assets/sound/Correct1.mp3">>
<<cacheaudio "correct2" "../assets/sound/correct2.mp3">>
<<cacheaudio "error" "../assets/sound/error1.mp3">>
<<cacheaudio "LQintensity1" "../assets/sound/LQintensity1.mp3">>
<<cacheaudio "30s" "../assets/sound/30secEle.mp3">>
<<cacheaudio "loading" "../assets/sound/loading.mp3">>
<<cacheaudio "monster1" "../assets/sound/monster1.mp3">>
<<cacheaudio "monster2" "../assets/sound/monster2.mp3">>
<<cacheaudio "monster3" "../assets/sound/monster3.mp3">>
<<cacheaudio "monster4" "../assets/sound/monster4.mp3">>
<<cacheaudio "monster5" "../assets/sound/monster5.mp3">>
<<cacheaudio "monsterannoyed" "../assets/sound/monsterannoyed.mp3">>
<<cacheaudio "rooting" "../assets/sound/signalprocess3.mp3">>
<<cacheaudio "wordeat" "../assets/sound/WordEating.mp3">>
<<cacheaudio "siren" "../assets/sound/siren.mp3">>
<<set $currentChapter to 1>>

:: findChapTitle [nobr]
<<set $chapters to {
    1: "Women in Disguise",
    2: "The Lion Queen",
    3: "Sea Unicorn",
    4: "Painted Elephant", 
    5: "The Lifesaving Club"
}>>




:: header[nobr]
<header>
</header>




:: footer[nobr]
<footer>
    <<button "Back">>
        <<goto $prevpass>>
    <</button>>
    <<button "Next">>
        <<goto $nextpass>>
    <</button>>
    <div id="nextButtonContainer">
     </div>
</footer>

:: footerger[nobr]
<footer class="geraldine">
    <<button "Back">>
        <<goto $prevpass>>
    <</button>>
  
   
</footer>


:: footernext[nobr]
<footer>
    <div/>
    <<button "Next">>
        <<goto $nextpass>>
    <</button>>
   
</footer>




:: footerend[nobr]
<footer>
    <<link "Back">>
        <<goto $prevpass>>
    <</link>>
    <<link "Start again">>
      <<script>>
        Engine.restart()
        <</script>>
        /* <<goto "landing">> */
    <</link>>
    
</footer>



:: landing [nobr] 
<<set $prevpass to "landing">>
<<set $pass to "landing">>
<<set $nextpass to "intro">>
<main class="logospin">
<div class="logo-wrapper slowRotate">
<img src="/assets/img/logo.png" alt="logo"/>

</div>
  <<button "Start">>
        <<goto "intro">>
    <</button>>
</main>




:: toc [toc]
<main>


[[wordsLeft]]
[[wordsAdded]]
[[code4]]
[[mapInstructions]]
[[picUpload]]
[[360image]]
[[dragIntoBook]]
[[landing]]
</main>

:: headerintro [nobr]
<header class="intro">
  <div class="logo-wrapper ">
  <img src="/assets/img/logo.png" alt="logo"/>
  </div>
  <div class="octo-title-wrapper">
    <h2 class="octo-title">OCTOPUS</h2>
    <span>Rooter</span>
  </div>
</header>
:: intro [nobr] 
<<set $prevpass to "landing">>
<<set $pass to "intro">>
<<set $nextpass to "connecting">>
<<include "headerintro">>
<main class="intro">
<div id="mount"></div>

<<timed 0.5s>>
    <<replace "#mount">>
  <p>Welcome to the OCTOPUS Rooter</p>
    <</replace>>
  <</timed>>
<<timed 4s>>
    <<append "#mount">>
      <p>Use this if you come across a Book Monster. </p>
    <</append>>
  <</timed>>
  <<timed 8s>>
    <<append "#mount">>
     <p>We can connect you to a book that needs rooting</p>
    <</append>>
  <</timed>>
  <<timed 12s>>
    <<append "#mount">>
      <p>And stop the Book Monster</p>
    <</append>>
  <</timed>>
  <<timed 12s>>
    <<append "#mount">>
     <p>Enter the name of the book that needs rooting. </p>
    <</append>>
  <</timed>>
    <<timed 15s>>
    <<append "#mount">>
     <<include "pwChathamStories">>
    <</append>>
  <</timed>>







</main>

:: pwChathamStories [nobr]
<div class="css-input code-input codeword-input">
    <<textbox "$codeword" "">>
    <<button "Enter">>
      <<set $codeword to $codeword.toUpperCase()>>
      
      /% CODEWORD CORRECT %/
      <<if $codeword != "" and $codeword == "CHATHAM STORIES">>
        <<replace "#coderesult">>CORRECT<</replace>>
        <<audio "correct" play>>

        <<timed 3s>><<goto $nextpass>><</timed>>
      
      /% CODEWORD INCORRECT %/
      <<else>>
        <<replace "#coderesult">><p>That's not right.</p><</replace>>
        <<timed 1.5s>><<replace "#coderesult">><</replace>><</timed>>
      <</if>>
    <</button>>

    <div id="coderesult"></div>
    <br/>
</div>

:: connecting [nobr]
<<set $prevpass to "intro">>
<<set $pass to "connecting">>
<<set $nextpass to "gerIntro-1">>
    <<audio "loading" play loop>>
<<include "headerintro">>
<main class="connecting">
  <div class="book-wrapper" id="wrapper">
  <img src="/assets/img/open-book.png" alt="open book"/>
  </div>
  <div id="mount"></div>
  <<timed 0.1s>>
    <<replace "#mount">>
   <<type 80ms>><p class="octo-welcome-text"> Welcome.</p><</type>>
    <</replace>>
  <</timed>>
  <<timed 4s>>
    <<replace "#mount">>
      <<type 80ms>><p class="octo-welcome-text"> Thank you</p><</type>>
    <</replace>>
  <</timed>>
  <<timed 8s>>
    <<replace "#mount">>
      <<type 80ms>><p class="octo-welcome-text"> You are connecting to...</p><</type>>
    <</replace>>
  <</timed>>
  <<timed 12s>>
    <<replace "#mount">>
       <<type 80ms>><p class="octo-welcome-text"> You are connecting to...</p><</type>>
    <</replace>>
  <</timed>>
 <<timed 16s>>
      <<replace "#wrapper">><</replace>>
    <<replace "#mount">>
      <<audio ":all" stop>>
      <h2 class="fancy"> Geraldine</h2>
       <<audio "correct" play>>
    <</replace>>
  <</timed>>

  <<timed 23s>>
    <<append "#mount">>
      <br/>
      <br/>
      <<button "Let's go!">>
        <<goto $nextpass>>
        <</button>>
    <</append>>
  <</timed>>

</main>
<<include "footer">>
:: headerGeraldine [nobr]
<header class="talking">
<div class="avatar-icon">[img[./assets/img/logo.png]]</div>
<div class="userInfo">
  <h2>Geraldine</h2>
 <span class="online-dot">●</span><span>Online</span>
</div>
</header>



:: _templateGeraldine[nobr]
<<addclass "body" "light">>

<<include "headerGeraldine">>
<main class="talking">
    <div id="msgMount"></div>
        <<if $pass>>
            <<set $uniqueContent to $pass+"-messages">>
            <<include $uniqueContent>>
        <<else>>
            No content provided.
        <</if>>
     <div id="nextButtonContainer">
     </div>
</main>
<<include "footer">>

:: gerIntro-1 [nobr]
<<set $prevpass to "connecting">>
<<set $pass to "gerIntro-1">>
<<set $nextpass to "gerIntro-2">>

<<include "_templateGeraldine">>

:: gerIntro-1-messages [nobr]
<<timed 0.5s>>
  <<audio ":all" "stop">>
        <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>Hello</p>
       </div>
        <</append>>
    <</timed>>

    <<timed 3s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
        <p>You must be the people who I’m working with today.  </p>
       </div>
        <</append>>
    <</timed>>

    <<timed 6s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
        <p>I’m Geraldine</p>
       </div>
        <</append>>
    <</timed>>

    <<timed 10s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>I work for OCTOPUS</p>
       </div>
        <</append>>
    <</timed>>

     <<timed 12s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>Love the work.</p>
       </div>
        <</append>>
    <</timed>>

     <<timed 14s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>Protecting Unrooted Stories. </p>
       </div>
        <</append>>
    <</timed>>

     <<timed 16s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>I’m so excited to be here.</p>
       </div>
        <</append>>
    <</timed>>

     <<timed 18s>>
      <<replace "#nextButtonContainer">>
      <<button "Next">>
        <<goto $nextpass>>
        <</button>>
          <</replace>>
    <</timed>>

:: gerIntro-2 [nobr]
<<set $prevpass to "gerIntro-1">>
<<set $pass to "gerIntro-2">>
<<set $nextpass to "gerIntro-3">>

<<include "_templateGeraldine">>


:: gerIntro-2-messages [nobr]
<<timed 0.5s>>
        <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
           <p>This is actually my first day. </p>
       </div>
        <</append>>
    <</timed>>

    <<timed 3s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>My first Rooting in fact.</p>
       </div>
        <</append>>
    <</timed>>

    <<timed 6s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
     <p>Never done it before</p>
       </div>
        <</append>>
    <</timed>>

    <<timed 10s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
         <p>But we’ll be fine</p>
       </div>
        <</append>>
    <</timed>>

     <<timed 12s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>Totally fine.</p>
       </div>
        <</append>>
    <</timed>>

     <<timed 15s>>
      <<replace "#nextButtonContainer">>
      <<button "Next">>
          <<goto $nextpass>>
        <</button>>
          <</replace>>
    <</timed>>

:: gerIntro-3 [nobr]
<<set $prevpass to "gerIntro-2">>
<<set $pass to "gerIntro-3">>
<<set $nextpass to "gerIntro-4">>

<<include "_templateGeraldine">>

:: gerIntro-3-messages [nobr]
<<timed 0.5s>>
        <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
           <p>Ok let me load up the book.</p>
       </div>
        <</append>>
    <</timed>>

    <<timed 3s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>Chatham Stories. </p>
       </div>
        <</append>>
    <</timed>>

    <<timed 6s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
     <p>A book that was once full of stories of my local town Chatham</p>
       </div>
        <</append>>
    <</timed>>

    <<timed 10s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
         <p>But now…it seems they have all been taken</p>
       </div>
        <</append>>
    <</timed>>

 <<timed 14s>>
      <<replace "#nextButtonContainer">>
      <<button "Next">>
          <<goto "loading">>
        <</button>>
          <</replace>>
    <</timed>>


:: bookmonsterprofile [nobr]


  <div class="cipher-wrapper">
  <span class="cipher-title"><soan class="octo-title">OCTOPUS</soan> Profile</span>
    <div class="bm-info-wrapper cipherpaper">
    <h2>The Book Monster</h2>
    <span><b>DOB:</b> Unknown</span>
    <span><b>Nickname:</b> Googly Moogly</span>
    <span><b>Likes:</b> Eating Books</span>
    <span><b>Dislikes:</b> Books, Stories & Characters! </span>
    <span><b>Appearance:</b> uncertain- images on file from previous encounters</span>
  </div>
  <div class="logo-wrapper-cipher">
  <img src="/assets/img/logo.png" alt="logo"/>
  </div>
  </div>

:: gerIntro-3b [nobr]
<<set $prevpass to "gerIntro-3">>
<<set $pass to "gerIntro-4">>
<<set $nextpass to "gerIntro-4">>

<<include "_templateGeraldine">>

:: gerIntro-3b-messages [nobr]

     <<timed 0.3s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>Written by UNKNOWN.</p>
       </div>
        <</append>>
    <</timed>>

     <<timed 3s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>Written by Unknown is odd - maybe together we can discover who the author was. </p>
       </div>
        <</append>>
    <</timed>>

     <<timed 6s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>It must be because of the Book Monster. </p>
       </div>
        <</append>>
    <</timed>>

       <<timed 9s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>Let’s load up the information from OCTOPUS to find out what they know.</p>
       </div>
        <</append>>
    <</timed>>

     <<timed 13s>>
      <<replace "#nextButtonContainer">>
      <<button "Load Info">>
          <<goto $nextpass>>
        <</button>>
          <</replace>>
    <</timed>>

:: loading [nobr]

<main class="loading">
<div class="logo-wrapper" >
<img src="/assets/img/logo.png" alt="logo" class="fastRotate"/>
<br/>

</div>
<br/>
<div id="mount"></div>

</main>

<<timed 0.5s>>
<<replace "#mount">>
  <<type 100ms>>
    <h2 class="octo-title">Loading...</h2>
    <</type>>
<</replace>>
  <</timed>>

  <<timed 4s>>
<<replace "#mount">>
  <<type 100ms>>
    <h2 class="octo-title">Loading...</h2>
    <</type>>
<</replace>>
  <</timed>>

<<timed 8s>>
  <<goto $nextpass>>
  <</timed>>
:: gerIntro-4 [nobr]
<<set $prevpass to "gerIntro-3">>
<<set $pass to "gerIntro-4">>
<<set $nextpass to "octopusgallery">>

<<include "_templateGeraldine">>

:: gerIntro-4-messages [nobr]

<<timed 0.1s>>
   <<append "#msgMount">>
      <<include "bookmonsterprofile">>
      <</append>>
    <</timed>>

     <<timed 3s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>There have only been a few sightings of the monster. </p>
       </div>
        <</append>>
    <</timed>>

      <<timed 6s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>But those who have encountered it in the past have drawn images of what they saw. </p>
       </div>
        <</append>>
    <</timed>>

   <<timed 9s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>Let’s load that up and see what we are facing.   </p>
       </div>
        <</append>>
    <</timed>>

  <<timed 12s>>
      <<replace "#nextButtonContainer">>
      <<button "Load Images">>
          <<goto "loading">>
        <</button>>
          <</replace>>
    <</timed>>


:: galleryheader[nobr]
<header class="intro">
  <div class="logo-wrapper ">
  <img src="/assets/img/logo.png" alt="logo"/>
  </div>
  <div class="octo-title-wrapper">
    <h2 class="octo-title">OCTOPUS</h2>
    <span>Gallery</span>
  </div>
</header>


:: octopusgallery [nobr]
<<set $prevpass to "gerIntro-4">>
<<set $pass to "octopusgallery">>
<<set $nextpass to "gerIntro-6">>
<<include "galleryheader">>
<main class="gallery">
      <<include "bookmonsterimages">>
</main>
<<include "galleryfooter">>

:: galleryfooter[nobr]
<footer class="gallery"> 
<div/>
<div id="nextImageBtn"></div></footer>

<<timed 2s>>
      <<include "footerimages">>
    <</timed>>


   
:: bookmonsterimages [nobr]

  <div class="bm-wrapper" id="imgMount">
    <img id="monsterImage" src="/assets/img/monster1.png" alt="Monster Image 1"/>
  </div>
  <div class="img-desc" id="imgDesc">
    <h3 class="octo-title">Sighting 1</h3>
  </div>



:: footerimages [nobr]
<<set $imageIndex to 1>>

<<replace "#nextImageBtn">>
      <<button "Load Next Image">>
         <<if $imageIndex < 4>>
        <<set $imageIndex to $imageIndex + 1>>
        <<replace "#imgMount">>
          <img id="monsterImage" sc-eval:src="'/assets/img/monster' + [$imageIndex] + '.png'"  alt="Monster Image"/>
            /* <img id="monsterImage" src="/assets/img/monster2.png" alt="Monster Image"/> */
        <</replace>>
        <<replace "#imgDesc">>
            <h3 class="octo-title">Sighting $imageIndex</h3>
        <</replace>>
        <<else>>
          <<replace "#nextImageBtn">>
      <<button "Next">>
        <<goto $nextpass>>
      <</button>>
      <</replace>>
        <</if>>
      <</button>>
    

<</replace>>


:: gerIntro-6 [nobr]
<<set $prevpass to "octopusgallery">>
<<set $pass to "gerIntro-6">>
<<set $nextpass to "gerIntro-6b">>

<<include "_templateGeraldine">>


:: gerIntro-6-messages [nobr]
<<timed 0.1s>>
        <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
           <p>I know it wasn't what I was expecting either. </p>
       </div>
        <</append>>
    <</timed>>

    <<timed 3s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>Something that you can’t see but is always nearby books.  </p>
       </div>
        <</append>>
    <</timed>>

    <<timed 6s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
     <p>That’s why it likes the library so much. </p>
       </div>
        <</append>>
    <</timed>>

    <<timed 10s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
         <p>It has a taste for books that are being forgotten. </p>
       </div>
        <</append>>
    <</timed>>

     <<timed 12s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>And it seems Chatham Stories are next.</p>
       </div>
        <</append>>
    <</timed>>


     <<timed 15s>>
      <<replace "#nextButtonContainer">>
      <<button "Next">>
          <<goto $nextpass>>
        <</button>>
          <</replace>>
    <</timed>>

<<set $imageIndex to 1>>
:: gerIntro-6b [nobr]
<<set $prevpass to "gerIntro-6">>
<<set $pass to "gerIntro-6b">>
<<set $nextpass to "gerIntro-6c">>

<<include "_templateGeraldine">>

:: gerIntro-6b-messages [nobr]
 <<timed 0.5s>>
        <<audio "ping1" "play">>
         <<replace "#msgMount">>
       <div class="message"> 
        <p>But there is hope</p>
       </div>
        <</replace>>
    <</timed>>

     <<timed 3s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>You are that hope. </p>
       </div>
        <</append>>
    <</timed>>

     <<timed 6s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>The Monster is using the stories it is eating to set challenges. </p>
       </div>
        <</append>>
    <</timed>>

     <<timed 9s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>You need to stop the Monster by completing the challenges </p>
       </div>
        <</append>>
    <</timed>>

     <<timed 12s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>Fragments may come through in mysterious ways that we need to work out.  </p>
       </div>
        <</append>>
    <</timed>>

      <<timed 15s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>But we need to be quick.  </p>
       </div>
        <</append>>
    <</timed>>

    <<timed 18s>>
      <<replace "#nextButtonContainer">>
      <<button "Next">>
          <<goto $nextpass>>
        <</button>>
          <</replace>>
    <</timed>>



:: gerIntro-6c [nobr]
<<set $prevpass to "gerIntro-6b">>
<<set $pass to "gerIntro-6c">>
<<set $nextpass to "chapterTitle1">>

<<include "_templateGeraldine">>

:: gerIntro-6c-messages [nobr]

 <<timed 0.5s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>I know this is a lot to take on, and we’ve only just met, but I need your help. </p>
       </div>
        <</append>>
  <</timed>>

   <<timed 4s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>Would you be up for helping me? </p>
       </div>
        <</append>>
  <</timed>>

  <<timed 4s>>
        <<audio "ping1" "play">>
         <<append "#msgMount">>
       <div class="message"> 
        <p>If you are - hit the button below and we can begin rooting the stories.  </p>
       </div>
        <</append>>
  <</timed>>

     <<timed 8s>>
      <<replace "#nextButtonContainer">>
      <<button "Begin Rooting">>
          <<goto $nextpass>>
        <</button>>
          <</replace>>
    <</timed>>

:: _chapterTitleTemplate [nobr]
<<addclass "body" "grey">>
<<include "findChapTitle">>
<<timed 0.1s>>
<main class="chapter-title">
<h2>Chapter $currentChapter</h2>
<div class="logo-wrapper chapter-img-wrapper">
<img id="chapterImage" sc-eval:src="'/assets/img/chapter' + [$currentChapter] + '.png'"  alt="Chapter Image"/>
</div>
<div class="chapter-title-wrapper">

<h3>$chapters[$currentChapter]</h3></div>
</main>
<</timed>>
<<timed 5s>>
  <<goto $nextpass>>
  <</timed>>

:: chapterTitle1 [nobr]
<<set $prevpass to "gerIntro-6c">>
<<set $pass to "chapterTitle1">>
<<set $nextpass to "wordsLeft1">>
<<set $currentChapter to 1>>
<<audio ":all" stop>>
<<include "_chapterTitleTemplate">>
<<include "footerger">>

:: wordsLeft1 [nobr]
<<set $prevpass to "chapterTitle1">>
<<set $pass to "wordsLeft1">>
<<set $nextpass to "ger2-1">>
<<audio "wordeat" play loop>>
<main>
    
  <div class="eating-container">
    <p>
      <span class="keep">Women</span> <span>were</span> <span>some</span> <span>of</span> <span>the</span> <span>hidden</span> <span>heroines</span> <span>of</span> <span>the</span> <span>Navy</span>
    </p>
    <p>
      <span>Some</span> <span>would</span> <span>mend</span> <span>ships,</span> <span>some</span> <span>would</span> <span>make</span> <span>ropes</span>
    </p>
    <p>
      <span>Some</span> <span>even</span> <span>dressed</span> <span>like</span> <span>men</span> <span>to</span> <span>fight</span> <span>in</span> <span>the</span> <span>war</span>
    </p>
    <p>
  <span>Mary</span> <span>Lacy</span> <span>travelled</span> <span>to</span> <span>Chatham</span> <span>in</span> <span>her</span> <span>fathers’</span> <span>clothes</span> <span>and</span> <span>she</span> <span>became</span> <span>William</span> <span>Chandler</span>
</p>
<p>
  <span>Not</span> <span>long</span> <span>after</span> <span>that,</span><span>she</span> <span>joined</span> <span>the</span> <span>HMS</span> <span class="keep">Sandwich</span> <span>and</span> <span>set</span> <span>sail</span>
</p>
<p>
  <span>Although</span> <span>they</span> <span>didn't</span> <span>know</span> <span>she</span> <span>was</span> <span>a</span> <span>‘she’</span> <span>at</span> <span>the</span> <span>time</span>
</p>
<p>
  <span>She</span> <span>fought</span> <span>in</span> <span>wars</span> <span>and</span> <span>survived</span> <span>hurricanes</span><span>!</span>
</p>
<p>
  <span>She</span> <span>stayed</span> <span>in</span> <span class="keep">disguise</span> <span>for</span> <span>many</span> <span>years</span> <span>until</span> <span>her</span> <span>identity</span> <span>was</span> <span>revealed</span> <span>and</span> <span>she</span> <span>was</span> <span>discharged</span><span>.</span>
</p>

  </div>


</main>

<<include "footer">>

<<done>>
/* <<set $move to setup.moveWords()>> */
<<set $move to setup.quickEatWords()>>
<</done>>

<<timed 10s>>
  /* <<goto $nextpass>> */
  <</timed>>


:: ger2-1 [nobr]
<<set $prevpass to "wordsLeft1">>
<<set $pass to "ger2-1">>
<<set $nextpass to "code4">>
<<audio ":all" stop>>
<<include "_templateGeraldine">>

:: ger2-1-messages [nobr]

<<timed 0.1s>>
      <<append "#msgMount">>
       <div class="message"> 
          <p>What does that mean?  </p>
       </div>
        <</append>>
    <</timed>>

     <<timed 3s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>Maybe we’re too late </p>
       </div>
        <</append>>
    <</timed>>

   <<timed 5s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>Wait. </p>
       </div>
        <</append>>
    <</timed>>


     <<timed 7s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>Disguised...</p>
       </div>
        <</append>>
    <</timed>>

     <<timed 9s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>They were disguised...</p>
       </div>
        <</append>>
    <</timed>>

      <<timed 12s>>
    <<audio "ping1" "play">>
        <<replace "#msgMount">>
       <div class="message"> 
          <p>And the name is disguised. </p>
       </div>
        <</replace>>
    <</timed>>


    <<timed 15s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>It must be the Book Monster. </p>
       </div>
        <</append>>
    <</timed>>

     <<timed 18s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>There are 4 letters.  </p>
       </div>
        <</append>>
    <</timed>>

     <<timed 21s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>Maybe they can be found where you are. </p>
       </div>
        <</append>>
    <</timed>>

       <<timed 24s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>Break the code they have set </p>
       </div>
        <</append>>
    <</timed>>

       <<timed 27s>>
    <<audio "ping1" "play">>
        <<replace "#msgMount">>
       <div class="message"> 
          <p>4 letters to find. </p>
       </div>
        <</replace>>

    <</timed>>
         <<timed 30s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>Let’s load the first one up first. </p>
       </div>
        <</append>>
    <</timed>>

  <<timed 31s>>
      <<replace "#nextButtonContainer">>
      <<button "Next">>
          <<goto $nextpass>>
        <</button>>
          <</replace>>
    <</timed>>

:: codeheader [nobr]
<header id="header" class="code">
 
</header>


:: code4 [nobr]
<<set $prevpass to "ger2-1">>
<<set $pass to "code4">>
<<set $nextpass to "ger3-1">>
<<set $correctans to []>>
<<include "codeheader">>
$correctans
<main class="main-section codebreaking" id="mainMount">

<div class="wordcontainer">
<<set $current to "">>
/* Letter S  */
<div class="letter-item l" id="letterItemL">
  <<link "1">>
   /* <<textbox "$s" "">> */
   /* <<toggleclass $current "current">> */
   <<set $current to "l">>
    <<if $current is "l">> 
    <<replace "#clueMount">>
        /* Make box gold, turn off any other gold boxes */
         <<addclass "#letterItemL" "current">> 
        <<removeclass "#letterItemA" "current">>   
        <<removeclass "#letterItemC" "current">>   
        <<removeclass "#letterItemY" "current">> 
      <h2 class="octo-title">Clue</h2>
       <p>There is a clock near the exit - underneath a name of someone who open the Library - enter the 2nd letter of the Surname. </p>

    <</replace>>
  
    <<replace "#inputMount">>
        <div id="coderesult"></div>
    
        <div class="code-input"><<textbox "$l" "">></div>
        <<button "Enter">>
       
        /% PASSWORD CODE %/
        <<set $l to $l.toUpperCase()>>
        /% CODEWORD CORRECT %/
        <<if $l isnot "" and $l is "L">>
        <<timed 0.1s>>
         <<replace "#coderesult">><div class="confirmation" id="confirmation">Correct!</div><</replace>>
        <</timed>>
        <<audio "correct" play>>
        <<timed 1s>>
            <<run $correctans.push("L")>>
            <<include "checkcorrectans">>
            <<replace "#letterItemL">><div class="correct-letter">L</div>
            <</replace>>
            <<replace "#inputMount">><</replace>>
             <<replace "#clueMount">><</replace>>
        <</timed>>
        <</if>>
        /% CODEWORD INCORRECT %/
        <<if $l isnot "" and $l isnot "L">>
        <<timed 0.1s>>
           <<audio "error" play>>
          <<replace "#coderesult">><div class="confirmation" id="confirmation">That's not right...</div><</replace>>
         <</timed>>
        <<timed 1.5s>><<replace "#coderesult">><</replace>><</timed>>
        <</if>><</button>>
    <</replace>>
   <</if>>   

  <</link>>
</div>
/* Letter A  */
<div class="letter-item a" id="letterItemA">
  <<link "2">>

   <<set $current to "a">>
    <<if $current is "a">> 
    <<replace "#clueMount">>
        /* Make box gold, turn off any other gold boxes */
         <<removeclass "#letterItemL" "current">> 
        <<addclass "#letterItemA" "current">>   
        <<removeclass "#letterItemC" "current">>   
        <<removeclass "#letterItemY" "current">>   
    <h2 class="octo-title">Clue</h2>
       <p>Shakespeare’s quote is on the wall - find it up above a door - and enter the first letter of the quote</p>
    <</replace>>
    <<replace "#inputMount">>
        <div id="coderesult"></div>
        <div class="code-input"><<textbox "$a" "">></div>
        <<button "Enter">>
       
        /% PASSWORD CODE %/
        <<set $a to $a.toUpperCase()>>
        /% CODEWORD CORRECT %/
        <<if $a isnot "" and $a is "A">>
        <<replace "#coderesult">><div class="confirmation" id="confirmation">Correct!</div><</replace>>
         <<audio "correct" play>>
        <<run $correctans.push("A")>>
            <<include "checkcorrectans">>
        <<timed 1s>>
            <<replace "#letterItemA">><div class="correct-letter">A</div>
            <</replace>>
            <<replace "#inputMount">><</replace>>
             <<replace "#clueMount">><</replace>>
        <</timed>>
        <</if>>
        /% CODEWORD INCORRECT %/
        <<if $a isnot "" and $a isnot "A">>
           <<audio "error" play>>
        <<replace "#coderesult">><div class="confirmation" id="confirmation">That's not right...</div><</replace>>
        <<timed 1.5s>><<replace "#coderesult">><</replace>><</timed>>
        <</if>><</button>>
    <</replace>>
   <</if>>   
   /* <<toggleclass "#sclue" "hide">> */
  <</link>>
</div>
/* Letter L  */
<div class="letter-item l" id="letterItemC">
  <<link "3">>
   /* <<textbox "$s" "">> */
   /* <<toggleclass $current "current">> */
   <<set $current to "l">>
    <<if $current is "l">> 
    <<replace "#clueMount">>
        /* Make box gold, turn off any other gold boxes */
         <<removeclass "#letterItemL" "current">> 
        <<removeclass "#letterItemA" "current">>   
        <<addclass "#letterItemC" "current">>   
        <<removeclass "#letterItemY" "current">>
    <h2 class="octo-title">Clue</h2>
       <p>Far on the other side of the Library there is an area for Kids’ what is the name of this area? Enter the first letter of that word. </p>
    <</replace>>
    <<replace "#inputMount">>
        <div id="coderesult"></div>
        <div class="code-input"><<textbox "$c" "">></div>
        <<button "Enter">>
       
        /% PASSWORD CODE %/
        <<set $c to $c.toUpperCase()>>
        /% CODEWORD CORRECT %/
        <<if $c isnot "" and $c is "C">>
        <<replace "#coderesult">><div class="confirmation" id="confirmation">Correct!</div><</replace>>
         <<audio "correct" play>>
        <<timed 1s>>
            <<run $correctans.push("C")>>
            <<include "checkcorrectans">>
            <<replace "#letterItemC">><div class="correct-letter">C</div>
            <</replace>>
            <<replace "#inputMount">><</replace>>
             <<replace "#clueMount">><</replace>>
        <</timed>>
        <</if>>
        /% CODEWORD INCORRECT %/
        <<if $c isnot "" and $c isnot "C">>
           <<audio "error" play>>
        <<replace "#coderesult">><div class="confirmation" id="confirmation">That's not right...</div><</replace>>
        <<timed 1.5s>><<replace "#coderesult">><</replace>><</timed>>
        <</if>><</button>>
    <</replace>>
   <</if>>   
   /* <<toggleclass "#sclue" "hide">> */
  <</link>>
</div>


/* Letter Y  */
<div class="letter-item y" id="letterItemY">
  <<link "4">>
   /* <<textbox "$s" "">> */
   /* <<toggleclass $current "current">> */
   <<set $current to "y">>
    <<if $current is "y">> 
    <<replace "#clueMount">>
        /* Make box gold, turn off any other gold boxes */
         <<removeclass "#letterItemL" "current">> 
        <<removeclass "#letterItemA" "current">>   
        <<removeclass "#letterItemC" "current">>   
        <<addclass "#letterItemY" "current">>   
    <h2 class="octo-title">Clue</h2>
       <p>Hidden near Local Fiction (where the Chatham’s Stories Book should be)  an Ark can be found - a Sound Ark - what is the last letter of the first word of this Sound Ark? </p>
    <</replace>>
    <<replace "#inputMount">>
        <div id="coderesult"></div>
        <div class="code-input"><<textbox "$y" "">></div>
        <<button "Enter">>
       
        /% PASSWORD CODE %/
        <<set $y to $y.toUpperCase()>>
        /% CODEWORD CORRECT %/
        <<if $y isnot "" and $y is "Y">>
        <<replace "#coderesult">><div class="confirmation" id="confirmation">Correct!</div><</replace>>
         <<audio "correct" play>>
        <<timed 1s>>
            <<run $correctans.push("Y")>>
            <<include "checkcorrectans">>
            <<replace "#letterItemY">><div class="correct-letter">Y</div>
            <</replace>>
            <<replace "#inputMount">><</replace>>
             <<replace "#clueMount">><</replace>>
        <</timed>>
        <</if>>
        /% CODEWORD INCORRECT %/
        <<if $y isnot "" and $y isnot "Y">>
           <<audio "error" play>>
        <<replace "#coderesult">><div class="confirmation" id="confirmation">That's not right...</div><</replace>>
        <<timed 1.5s>><<replace "#coderesult">><</replace>><</timed>>
        <</if>><</button>>
    <</replace>>
   <</if>>   

  <</link>>
</div>
</div>
<br>
 <div id="clueMount">
    <span>4 letters to find.</span>
  </div>
<br>
<div id="inputMount"></div>
<br>
<br>


</main>
<<include "footer">>


:: checkcorrectans

<<if $correctans.includesAll("L", "A", "C", "Y")>>

<<timed 3s>>
  <<goto $nextpass>>
  <</timed>>
<</if>>



:: ger3-1 [nobr]
<<set $prevpass to "code4">>
<<set $pass to "ger3-1">>
<<set $nextpass to "wordsAdded1">>
<<audio ":all" stop>>
<<include "_templateGeraldine">>


:: ger3-1-messages [nobr]
<<timed 0.5s>>
        <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>LACY</p>
       </div>
        <</append>>
    <</timed>>

    <<timed 3s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
        <p>That’s it - Mary Lacy!</p>
       </div>
        <</append>>
    <</timed>>

   <<timed 7s>>
    <<goto $nextpass>>
    <</timed>>

:: wordsAdded1 [nobr]
<<set $prevpass to "ger3-1">>
<<set $pass to "wordsAdded1">>
<<set $nextpass to "ger3-2">>

<main>
    
  <div class="eating-container">
    <p>
      <span class="keep remaining">Women</span> <span class="eaten">were</span> <span class="eaten">some</span> <span class="eaten">of</span> <span class="eaten">the</span> <span class="eaten">hidden</span> <span class="eaten">heroines</span> <span class="eaten">of</span> <span class="eaten">the</span> <span class="eaten">Navy</span>
    </p>
    <p>
      <span class="eaten">Some</span> <span class="eaten">would</span> <span class="eaten">mend</span> <span class="eaten">ships,</span> <span class="eaten">some</span> <span class="eaten">would</span> <span class="eaten">make</span> <span class="eaten">ropes</span>
    </p>
    <p>
      <span class="eaten">Some</span> <span class="eaten">even</span> <span class="eaten">dressed</span> <span class="eaten">like</span> <span class="eaten">men</span> <span class="eaten">to</span> <span class="eaten">fight</span> <span class="eaten">in</span> <span class="eaten">the</span> <span class="eaten">war</span>
    </p>
    <p>
  <span class="eaten">Mary</span> <span class="eaten">Lacy</span> <span class="eaten">travelled</span> <span class="eaten">to</span> <span class="eaten">Chatham</span> <span class="eaten">in</span> <span class="eaten">her</span> <span class="eaten">fathers’</span> <span class="eaten">clothes</span> <span class="eaten">and</span> <span class="eaten">she</span> <span class="eaten">became</span> <span class="eaten">William</span> <span class="eaten">Chandler</span>
</p>
<p>
  <span class="eaten">Not</span> <span class="eaten">long</span> <span class="eaten">after</span> <span class="eaten">that,</span><span class="eaten">she</span> <span class="eaten">joined</span> <span class="eaten">the</span> <span class="eaten">HMS</span> <span class="keep remaining">Sandwich</span> <span class="eaten">and</span> <span class="eaten">set</span> <span class="eaten">sail</span>
</p>
<p>
  <span class="eaten">Although</span> <span class="eaten">they</span> <span class="eaten">didn't</span> <span class="eaten">know</span> <span class="eaten">she</span> <span class="eaten">was</span> <span class="eaten">a</span> <span class="eaten">‘she’</span> <span class="eaten">at</span> <span class="eaten">the</span> <span class="eaten">time</span>
</p>
<p>
  <span class="eaten">She</span> <span class="eaten">fought</span> <span class="eaten">in</span> <span class="eaten">wars</span> <span class="eaten">and</span> <span class="eaten">survived</span> <span class="eaten">hurricanes</span><span class="eaten">!</span>
</p>
<p>
  <span class="eaten">She</span> <span class="eaten">stayed</span> <span class="eaten">in</span> <span class="keep remaining">disguise</span> <span class="eaten">for</span> <span class="eaten">many</span> <span class="eaten">years</span> <span class="eaten">until</span> <span class="eaten">her</span> <span class="eaten">identity</span> <span class="eaten">was</span> <span class="eaten">revealed</span> <span class="eaten">and</span> <span class="eaten">she</span> <span class="eaten">was</span> <span class="eaten">discharged</span><span class="eaten">.</span>
</p>

  </div>


</main>

<<include "footer">>

<<done>>
  <<set $still to setup.restoreWords()>>
<</done>>
<<timed 15s>>
  <<goto $nextpass>>
  <</timed>>


:: ger3-2 [nobr]
<<set $prevpass to "wordsAdded1">>
<<set $pass to "ger3-2">>
<<set $nextpass to "ger3-3">>
<<audio ":all" stop>>
<<include "_templateGeraldine">>


:: ger3-2-messages [nobr]
<<timed 0.1s>>
        <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>Mary Lacy travelled to Chatham in her fathers’ clothes and she became William Chandler.</p>
       </div>
        <</append>>
    <</timed>>

    <<timed 3s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
        <p>Not long after that, she joined the HMS Sandwich and set sail. </p>
       </div>
        <</append>>
    <</timed>>

    <<timed 5s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
        <p>Although they didn't know she was a ‘she’ at the time. </p>
       </div>
        <</append>>
    <</timed>>



   <<timed 7s>>
      <<replace "#nextButtonContainer">>
      <<button "Next">>
          <<goto $nextpass>>
        <</button>>
          <</replace>>
    <</timed>>

:: ger3-3 [nobr]
<<set $prevpass to "ger3-2">>
<<set $pass to "ger3-3">>
<<set $nextpass to "ger3-4">>

<<include "_templateGeraldine">>


:: ger3-3-messages [nobr]
<<timed 0.1s>>
        <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>She fought in wars and survived hurricanes!</p>
       </div>
        <</append>>
    <</timed>>

    <<timed 3s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
        <p>She stayed in disguise for many years until her identity was revealed and she was discharged. </p>
       </div>
        <</append>>
    <</timed>>

   <<timed 5s>>
      <<replace "#nextButtonContainer">>
      <<button "Next">>
          <<goto $nextpass>>
        <</button>>
          <</replace>>
    <</timed>>

:: ger3-4 [nobr]
<<set $prevpass to "ger3-3">>
<<set $pass to "ger3-4">>
<<set $nextpass to "ger3-5">>

<<include "_templateGeraldine">>


:: ger3-4-messages [nobr]
<<timed 0.1s>>
        <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>It is said that Lacy had one of the most successful careers as a woman in disguise, even gaining a pension from Admiralty in her true name.</p>
       </div>
        <</append>>
    <</timed>>

   

   <<timed 3s>>
      <<replace "#nextButtonContainer">>
      <<button "Next">>
          <<goto "bookrooting">>
        <</button>>
          <</replace>>
    <</timed>>


:: bookrooting [nobr]
<<audio "rooting" play>>
<main class="rooting">
  <div class="book-wrapper">
  <img src="/assets/img/open-book.png" alt="open book"/>
  </div>
  <div id="mount"></div>
  <<timed 0.3s>>
  <<replace "#mount">>
<h2 class="octo-title">Book Rooting...</h2>
  <</replace>>
<</timed>>
</main>

  <<timed 4s>>
  
          <<goto $nextpass>>
    
    <</timed>>

:: ger3-5 [nobr]
<<set $prevpass to "ger3-4">>
<<set $pass to "ger3-5">>
<<set $nextpass to "ger3-6">>

<<include "_templateGeraldine">>

:: ger3-5-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>I’m going to be honest I have been a bit nervous about starting this job.</p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>I was doubting myself.</p>
       </div>
    <</append>>
<</timed>>

<<timed 6s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>But Mary’s story is so inspirational.</p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Maybe it’ll be ok.</p>
       </div>
    <</append>>
<</timed>>

<<timed 12s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>One chapter rooted.</p>
       </div>
    <</append>>
<</timed>>

<<timed 15s>>
    <<replace "#nextButtonContainer">>
    <<button "Next">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>

:: ger3-6 [nobr]
<<set $prevpass to "ger3-5">>
<<set $pass to "ger3-6">>
<<set $nextpass to "chapterTitle2">>

<<include "_templateGeraldine">>

:: ger3-6-messages [nobr]
<<timed 0.1s>>
    <<audio "monster1" "play">>

<</timed>>
<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>But I think the Book Monster now knows what we are trying to do.</p>
       </div>
    <</append>>
<</timed>>

<<timed 5s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Do we call it Book Monster or Googly Moogly!?</p>
       </div>
    <</append>>
<</timed>>

<<timed 7s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>To start the next chapter, head to the refreshments area, have a hot chocolate if you’d like!</p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>When there click below</p>
       </div>
    <</append>>
<</timed>>

<<timed 12s>>
    <<replace "#nextButtonContainer">>
    <<button "Here">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>


:: chapterTitle2 [nobr]
<<set $prevpass to "ger3-6">>
<<set $pass to "chapterTitle2">>
<<set $nextpass to "wordsLeft2">>
<<set $currentChapter to 2>>
<<audio ":all" stop>>
<<include "_chapterTitleTemplate">>
<<include "footerger">>

:: wordsLeft2 [nobr]
<<set $prevpass to "chapterTitle2">>
<<set $pass to "wordsLeft2">>
<<set $nextpass to "ger4-1">>
    <<audio "wordeat" "play" loop>>
<main class="main-words">

    <main>
    <div class="wordLeft-container">
      <div class="wordLeft word">Wombwell's Travelling Menagerie</div>
       <div class="wordLeft word">Tiger</div>
       <div class="wordLeft word">Cage</div>
    </div>
   <div class="words">
    <div class="wordDisappear word">In</div>
    <div class="wordDisappear word">1850</div>
    <div class="wordDisappear word">17-year-old</div>
    <div class="wordDisappear word">Ellen</div>
    <div class="wordDisappear word">Bright</div>
    <div class="wordDisappear word">who</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">dubbed</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">Lion</div>
    <div class="wordDisappear word">Queen</div>
    <div class="wordDisappear word">died</div>
    <div class="wordDisappear word">in</div>
    <div class="wordDisappear word">Chatham</div>
    <div class="wordDisappear word">during</div>
    <div class="wordDisappear word">her</div>
    <div class="wordDisappear word">act</div>
    <div class="wordDisappear word">with</div>
    <div class="wordDisappear word">a</div>
    <div class="wordDisappear word">Lion</div>
    <div class="wordDisappear word">.</div>
    <div class="wordDisappear word">She</div>
    <div class="wordDisappear word">tamed</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">Lion</div>
    <div class="wordDisappear word">but</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">attacked</div>
    <div class="wordDisappear word">by</div>
    <div class="wordDisappear word">a</div>
    <div class="wordDisappear word">Tiger</div>
    <div class="wordDisappear word">who</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">also</div>
    <div class="wordDisappear word">in</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">cage</div>
</div>

</main>

<<include "footer">>

<<done>>
<<set $move to setup.moveWords()>>
<</done>>

<<timed 7s>>
  /* REPLACE ROAR */
   <<audio "monster2" "play">>
  <</timed>>

<<timed 11s>>
  <<goto $nextpass>>
  <</timed>>

:: ger4-1 [nobr]
<<set $prevpass to "wordsLeft2">>
<<set $pass to "ger4-1">>
<<set $nextpass to "mapInstructions">>
<<audio ":all" stop>>
<<include "_templateGeraldine">>

:: ger4-1-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>Keep your eyes focused forward and follow the instructions.</p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>You need to follow the map but keep looking forwards.</p>
       </div>
    <</append>>
<</timed>>

<<timed 6s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>We are in the Monster’s Cage - the Library and we need to get out.</p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Don’t turn your back on the monster.</p>
       </div>
    <</append>>
<</timed>>

<<timed 12s>>
    <<replace "#nextButtonContainer">>
    <<button "Next">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>


:: mapInstructions [nobr]
<<set $prevpass to "ger4-1">>
<<set $pass to "mapInstructions">>
<<set $nextpass to "ger5-1">>
<<addclass "body" "light">>
<<audio "LQintensity1" play loop>>
<<set $currentInstructionIndex = 0>>

<<set $instructions = {
  0:{ text: "", 
    coords: ""
  },
    1: { text: "Face the vending machines <br/>
Don’t turn around – I need to work out where the Book Monster is.  <br/>
We can’t see it – but trust me – we want to avoid it.
", coords: "one"},
    2: { text: "Take 2 steps backwards and turn right (you should be facing the double doors). Don’t turn around. ", coords: "two" },
 3: { text: "Walk backwards down the central aisle.", coords: "three" }, 
  4: { text: "HOLD IT.<br/>
The Book Monster.<br/>
We need to go a different route. Re-routing.", coords: "three" }, 
  5: { text: "Slowly turn left and walk backwards towards the wall.", coords: "four" }, 
   6: { text: "Walk along the wall towards reception - past the Jigsaws.", coords: "five" }, 
 7: { text: "Stop before the reception - it’s too open there.", coords: "six" }, 
  8: { text: "We’re going to make a dash for it. You are going to go to the Poetry Corner.<br/> Wait for the Book Monster to move... and then I will tell you when to go.", coords: "six"}, 
  9: { text: "Go!", coords: "seven" }, 
  10: { text: "Head out the door and out of the cage <br/>Enter the word on the wall on the left side to let me know you have made it out alive!", 
  coords: "eight"}
}>>
  <<set $position to $instructions[$currentInstructionIndex].coords >>

<header class="map">
 <h2 class="octo-title">Monster's Cage</h2>
</header>
	<main id="main" class="map">

	<div>
<div class="map-container" id="mapContainer">
<img src="assets/img/map.png"/>
<div class="location hide pulse" id="location">
<img src="/assets/img/arrow.png" src="arrow"/></div>






/* <<include "swirlbookmonster6">>
<<include "swirlbookmonster7">>
<<include "swirlbookmonster8">> */

</div>
	</div>
   <div class="instruction" id="instruction">
 
    <p >
    /* <<print $currentInstructionIndex>>. */
    <<print $instructions[$currentInstructionIndex].text>></p>
    
    </div>

	</main>
	<<include "footermap">>


:: swirlbookmonster1 [nobr]
<div class="swirling-fog swirl-position-one">
  <span class="swirl-word one" >MENAGERIE</span>
  <span class="swirl-word two" >SANDWICH</span>
  <span class="swirl-word three" >DETONATION</span>
</div>

:: swirlbookmonster2 [nobr]
<div class="swirling-fog swirl-position-two">
  <span class="swirl-word one" >WOMAN</span>
  <span class="swirl-word two" >SANDWICH</span>
  <span class="swirl-word three" >MENAGERIE</span>
</div>

:: swirlbookmonster3 [nobr]
<div class="swirling-fog swirl-position-three">
  <span class="swirl-word one" >DETONATION</span>
  <span class="swirl-word two" >DISGUISE</span>
  <span class="swirl-word three" >MINES</span>
</div>

:: swirlbookmonster4 [nobr]
<div class="swirling-fog swirl-position-four">
  <span class="swirl-word one" >MENAGERIE</span>
  <span class="swirl-word two" >SANDWICH</span>
  <span class="swirl-word three" >DETONATION</span>
</div>

:: swirlbookmonster5 [nobr]
<div class="swirling-fog swirl-position-five">
  <span class="swirl-word one" >MENAGERIE</span>
  <span class="swirl-word two" >SANDWICH</span>
  <span class="swirl-word three" >CAGE</span>
</div>

:: swirlbookmonster6 [nobr]
<div class="swirling-fog swirl-position-six">
  <span class="swirl-word one" >ELEPHANT</span>
  <span class="swirl-word two" >SANDWICH</span>
  <span class="swirl-word three" >DETONATION</span>
</div>

:: swirlbookmonster7 [nobr]
<div class="swirling-fog swirl-position-seven">
  <span class="swirl-word one" >CAGE</span>
  <span class="swirl-word two" >SANDWICH</span>
  <span class="swirl-word three" >ELEPHANT</span>
</div>

:: swirlbookmonster8 [nobr]
<div class="swirling-fog swirl-position-eight">
  <span class="swirl-word one" >MURAL</span>
  <span class="swirl-word two" >BIG BEN BELL</span>
  <span class="swirl-word three" >DETONATION</span>
</div>
<div class="swirling-fog swirl-position-nine">
  <span class="swirl-word one" >MENAGERIE</span>
  <span class="swirl-word two" >TIGER</span>
  <span class="swirl-word three" >WOMAN</span>
</div>


:: footermap [nobr]

<footer class="map">
<<button "Back">><<goto "landing">><</button>>

<span class="button-wrapper" id="btnMount" aria-label="Click a button or link to move on">

<<button "I'm ready">>
<<set $currentInstructionIndex += 1>>
<<if $currentInstructionIndex === 1>>

  <<timed 1s>>
    <<removeclass "#location" "hide">>
      <<addclass "#location" "one">>
       <<include "updateInstruction">>
      <</timed>>
   <<timed 5s>>
    <<removeclass "#btnMount" "hide">>
    <</timed>>
<</if>>
 <<if $currentInstructionIndex === 2 >>
   <<timed 1s>>
     <<include "updateInstruction">>
  <</timed>>
  <<timed 7s>>
    <<removeclass "#btnMount" "hide">>
    <</timed>>
<<elseif $currentInstructionIndex === 3 >>
  <<timed 1s>>
     <<include "updateInstruction">>
  <</timed>>
  <<timed 4s>>
    <<removeclass "#btnMount" "hide">>
    <</timed>>
<<elseif $currentInstructionIndex === 4 >>
/* TODO ADD BOOK Monster */
    <<timed 0.1s>>
      <<append "#mapContainer">>
      <<include "swirlbookmonster1">>
      <</append>>
      <<include "updateInstruction">>
    <</timed>>
    <<timed 4s>>
    <<removeclass "#btnMount" "hide">>
    <</timed>>
<<elseif $currentInstructionIndex === 5 >>
    <<timed 0.1s>>
      <<include "updateInstruction">>
    <</timed>>
     <<timed 3.5s>>
       <<append "#mapContainer">>
      <<include "swirlbookmonster2">>
      <</append>>
    <</timed>>
    <<timed 4s>>
    <<removeclass "#btnMount" "hide">>
    <</timed>>
<<elseif $currentInstructionIndex === 6 >>
    <<timed 0.1s>>
      <<include "updateInstruction">>
    <</timed>>
     <<timed 3.5s>>
       <<append "#mapContainer">>
      <<include "swirlbookmonster3">>
      <</append>>
    <</timed>>
    <<timed 4s>>
    <<removeclass "#btnMount" "hide">>
    <</timed>>
<<elseif $currentInstructionIndex === 7 >>
    <<timed 0.1s>>
      <<include "updateInstruction">>
    <</timed>>
     <<timed 3.5s>>
       <<append "#mapContainer">>
      <<include "swirlbookmonster4">>
      <</append>>
    <</timed>>
    <<timed 4s>>
    <<removeclass "#btnMount" "hide">>
    <</timed>>
<<elseif $currentInstructionIndex === 8 >>
    <<timed 0.1s>>
      <<include "updateInstruction">>
    <</timed>>
     <<timed 3.5s>>
       <<append "#mapContainer">>
      <<include "swirlbookmonster5">>
      <</append>>
    <</timed>>
    <<timed 4s>>
    <<removeclass "#btnMount" "hide">>
    <</timed>>
<<elseif $currentInstructionIndex === 9 >>
    <<timed 0.1s>>
      <<include "updateInstruction">>
    <</timed>>
     <<timed 3.5s>>
       <<append "#mapContainer">>
      <<include "swirlbookmonster6">>
   
      <</append>>
    <</timed>>
    <<timed 4s>>
    <<removeclass "#btnMount" "hide">>
    <</timed>>
<<elseif $currentInstructionIndex === 10 >>
    <<timed 0.1s>>
      <<include "updateInstruction">>
    <</timed>>
     <<timed 3.5s>>
       <<append "#mapContainer">>
      <<include "swirlbookmonster7">>
      <<include "swirlbookmonster8">>
      <</append>>
    <</timed>>
    <<timed 4s>>
    <<replace "#btnMount">>
      <<include "pwMap">>
      <</replace>>
    <<removeclass "#btnMount" "hide">>
    <</timed>>
  
  <</if>>

<</button>>
</span>
</footer>

:: pwMap [nobr]

<div class="css-input map-input">
    <div class="result-input-wrapper">
      <div id="coderesult"></div>
      <<textbox "$codeword" "">>
    </div>
    <<button "Enter">>
      <<set $codeword to $codeword.toUpperCase()>>
      
      /% CODEWORD CORRECT %/
      <<if $codeword != "" and ($codeword is "ENTRANCE" or $codeword is "ENTRANCE ")>>
        <<replace "#coderesult">><span>CORRECT</span><</replace>>
        <<audio ":all" stop>>
        <<audio "correct" play>>

        <<timed 3s>><<goto $nextpass>><</timed>>
      
      /% CODEWORD INCORRECT %/
      <<else>>
        <<replace "#coderesult">><span>That's not right.</span><</replace>>
        <<timed 1.5s>><<replace "#coderesult">><</replace>><</timed>>
      <</if>>
    <</button>>

    
    <br/>
</div>
    

:: updateInstruction [nobr]
  <<addclass "#btnMount" "hide">>
  <<timed 0.1s>>
     <<replace "#instruction">>
      <</replace>>
  <</timed>>
  <<timed 1s>>
  <<replace "#instruction">>
   <h3>Instruction</h3>

    <p class="message"><<print $instructions[$currentInstructionIndex].text>></p>
  <</replace>>
  <</timed>>
 <<timed 3s>>
  <<removeclass "#location" $position>>
  <<set $position to $instructions[$currentInstructionIndex].coords >>
  <<addclass "#location" $position >>
<</timed>>


:: ger5-1 [nobr]
<<set $prevpass to "mapInstructions">>
<<set $pass to "ger5-1">>
<<set $nextpass to "wordsAdded2">>
<<audio ":all" stop>>
<<include "_templateGeraldine">>

:: ger5-1-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>You made it.</p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>And unlocked the story in the chapter too.</p>
       </div>
    <</append>>
<</timed>>

<<timed 6s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Oh.</p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Well this is sad.</p>
       </div>
    <</append>>
<</timed>>

<<timed 12s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>I’m sorry to say that, although we made it out of the cage, the Lion Queen did not.</p>
       </div>
    <</append>>
<</timed>>

<<timed 15s>>
    <<replace "#nextButtonContainer">>
    <<button "Next">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>



:: wordsAdded2 [nobr]
<<set $prevpass to "ger5-1">>
<<set $pass to "wordsAdded2">>
<<set $nextpass to "ger5-2">>

<main class="main-words added">
  <div class="words">
    <div class="wordDisappear word">In</div>
    <div class="wordDisappear word">1850</div>
    <div class="wordDisappear word">17-year-old</div>
    <div class="wordDisappear word">Ellen</div>
    <div class="wordDisappear word">Bright</div>
    <div class="wordDisappear word">who</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">dubbed</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">Lion</div>
    <div class="wordDisappear word">Queen</div>
    <div class="wordDisappear word">died</div>
    <div class="wordDisappear word">in</div>
    <div class="wordDisappear word">Chatham</div>
    <div class="wordDisappear word">during</div>
    <div class="wordDisappear word">her</div>
    <div class="wordDisappear word">act</div>
    <div class="wordDisappear word">with</div>
    <div class="wordDisappear word">a</div>
    <div class="wordDisappear word">Lion</div>
    <div class="wordDisappear word">.</div><br/>
    <div class="wordDisappear word">She</div>
    <div class="wordDisappear word">tamed</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">Lion</div>
    <div class="wordDisappear word">but</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">attacked</div>
    <div class="wordDisappear word">by</div>
    <div class="wordDisappear word">a</div>
    <div class="wordDisappear word">Tiger</div>
    <div class="wordDisappear word">who</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">also</div>
    <div class="wordDisappear word">in</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">cage</div>
    <div class="wordDisappear word">.</div><br/>
    <div class="wordDisappear word">Her</div>
    <div class="wordDisappear word">final</div>
    <div class="wordDisappear word">performance</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">part</div>
    <div class="wordDisappear word">of</div>
    <div class="wordDisappear word">‘Wombwell’s</div>
    <div class="wordDisappear word">Travelling</div>
    <div class="wordDisappear word">Menagerie’</div>
    <div class="wordDisappear word">which</div>
    <div class="wordDisappear word">toured</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">country</div>
    <div class="wordDisappear word">exhibiting</div>
    <div class="wordDisappear word">elephants</div>
    <div class="wordDisappear word">,</div>
    <div class="wordDisappear word">giraffes</div>
    <div class="wordDisappear word">,</div>
    <div class="wordDisappear word">tigers</div>
    <div class="wordDisappear word">,</div>
    <div class="wordDisappear word">panthers</div>
    <div class="wordDisappear word">,</div>
    <div class="wordDisappear word">lions</div>
    <div class="wordDisappear word">,</div>
    <div class="wordDisappear word">a</div>
    <div class="wordDisappear word">gorilla</div>
    <div class="wordDisappear word">,</div>
    <div class="wordDisappear word">and</div>
    <div class="wordDisappear word">a</div>
    <div class="wordDisappear word">kangaroo</div>
    <div class="wordDisappear word">.</div>
</div>

</main>


<<include "footer">>

<<done>>
  <<set $still to setup.stillWords()>>
<</done>>
<<timed 45s>>
  <<goto $nextpass>>
  <</timed>>


:: ger5-2 [nobr]
<<set $prevpass to "wordsAdded2">>
<<set $pass to "ger5-2">>
<<set $nextpass to "chapterTitle3">>

<<include "_templateGeraldine">>

:: ger5-2-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>Wow - that is a sad story.</p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>A fearless woman.</p>
       </div>
    <</append>>
<</timed>>

<<timed 6s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>But one we will remember now.</p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Because we have rooted her story here.</p>
       </div>
    <</append>>
<</timed>>

<<timed 12s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Well done.</p>
       </div>
    <</append>>
<</timed>>

<<timed 15s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>And we have escaped the Monster’s Cage.</p>
       </div>
    <</append>>
<</timed>>

<<timed 18s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Let’s keep going.</p>
       </div>
    <</append>>
<</timed>>

<<timed 21s>>
    <<replace "#nextButtonContainer">>
    <<button "Next">>
        <<goto "bookrooting">>
    <</button>>
    <</replace>>
<</timed>>

:: chapterTitle3 [nobr]
<<set $prevpass to "ger5-2">>
<<set $pass to "chapterTitle3">>
<<set $nextpass to "wordsLeft3">>
<<set $currentChapter to 3>>
<<audio ":all" stop>>
<<include "_chapterTitleTemplate">>
<<include "footerger">>

:: wordsLeft3 [nobr]
<<set $prevpass to "chapterTitle3">>
<<set $pass to "wordsLeft3">>
<<set $nextpass to "ger6-1">>
<<audio "wordeat" play loop>>
<main class="main-words">

<main>
    <div class="wordLeft-container">
      <div class="wordLeft word">River Medway</div>
       <div class="wordLeft word">Mysterious</div>
       <div class="wordLeft word">Spotted</div>
    </div>
  <div class="words">
    <div class="wordDisappear word">It</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">in</div>
    <div class="wordDisappear word">1949</div>
    <div class="wordDisappear word">-</div>
    <div class="wordDisappear word">a</div>
    <div class="wordDisappear word">narwhal</div>
    <div class="wordDisappear word">-</div>
    <div class="wordDisappear word">considered</div>
    <div class="wordDisappear word">a</div>
    <div class="wordDisappear word">‘Sea</div>
    <div class="wordDisappear word">Unicorn’</div>
    <div class="wordDisappear word">because</div>
    <div class="wordDisappear word">of</div>
    <div class="wordDisappear word">its</div>
    <div class="wordDisappear word">long</div>
    <div class="wordDisappear word">tusk</div>
    <div class="wordDisappear word">-</div>
    <div class="wordDisappear word">washed</div>
    <div class="wordDisappear word">up</div>
    <div class="wordDisappear word">along</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">river.</div>
    <div class="wordDisappear word">Many</div>
    <div class="wordDisappear word">myths</div>
    <div class="wordDisappear word">and</div>
    <div class="wordDisappear word">legends</div>
    <div class="wordDisappear word">are</div>
    <div class="wordDisappear word">based</div>
    <div class="wordDisappear word">on</div>
    <div class="wordDisappear word">misunderstood</div>
    <div class="wordDisappear word">sightings</div>
    <div class="wordDisappear word">of</div>
    <div class="wordDisappear word">real</div>
    <div class="wordDisappear word">creatures.</div>
    <div class="wordDisappear word">But</div>
    <div class="wordDisappear word">they</div>
    <div class="wordDisappear word">normally</div>
    <div class="wordDisappear word">are</div>
    <div class="wordDisappear word">found</div>
    <div class="wordDisappear word">in</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">arctic</div>
    <div class="wordDisappear word">-</div>
    <div class="wordDisappear word">so</div>
    <div class="wordDisappear word">finding</div>
    <div class="wordDisappear word">one</div>
    <div class="wordDisappear word">here</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">incredibly</div>
    <div class="wordDisappear word">rare.</div>
    <div class="wordDisappear word">It</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">so</div>
    <div class="wordDisappear word">rare</div>
    <div class="wordDisappear word">that</div>
    <div class="wordDisappear word">it</div>
    <div class="wordDisappear word">is</div>
    <div class="wordDisappear word">now</div>
    <div class="wordDisappear word">documented</div>
    <div class="wordDisappear word">in</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">Natural</div>
    <div class="wordDisappear word">History</div>
    <div class="wordDisappear word">Museum</div>
    <div class="wordDisappear word">in</div>
    <div class="wordDisappear word">London.</div>
</div>


</main>

<<include "footer">>

<<done>>
<<set $move to setup.moveWords()>>
<</done>>



<<timed 10s>>
  <<goto $nextpass>>
  <</timed>>


:: ger6-1 [nobr]
<<set $prevpass to "wordsLeft3">>
<<set $pass to "ger6-1">>
<<set $nextpass to "ger6-2">>
<<audio ":all" stop>>
<<include "_templateGeraldine">>

:: ger6-1-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>The next chapter seems to be linked to the River Medway. </p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Let’s head there. </p>
       </div>
    <</append>>
<</timed>>

<<timed 6s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Go to the Red Lifeguard Ring and let me know when you are there. </p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<replace "#nextButtonContainer">>
    <<button "I'm here">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>

:: ger6-2 [nobr]
<<set $prevpass to "ger6-1">>
<<set $pass to "ger6-2">>
<<set $nextpass to "ger6-3">>

<<include "_templateGeraldine">>

:: ger6-2-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>Something has been bothering me - why don’t we know who the author is?</p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Come on Geraldine, focus, this is no time to ponder.</p>
       </div>
    <</append>>
<</timed>>

<<timed 6s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>I love the River.</p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>The river changes.</p>
       </div>
    <</append>>
<</timed>>

<<timed 12s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Much like us.</p>
       </div>
    <</append>>
<</timed>>

<<timed 15s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>It is said you can’t stand in the same river twice.</p>
       </div>
    <</append>>
<</timed>>

<<timed 18s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Some say you can’t even stand in the same river once.</p>
       </div>
    <</append>>
<</timed>>

<<timed 21s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Because it changes constantly.</p>
       </div>
    <</append>>
<</timed>>

<<timed 23s>>
    <<replace "#nextButtonContainer">>
    <<button "Next">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>

:: ger6-3 [nobr]
<<set $prevpass to "ger6-2">>
<<set $pass to "ger6-3">>
<<set $nextpass to "picUpload">>

<<include "_templateGeraldine">>

:: ger6-3-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>The next ROOTING Challenge seems to be that you need to spot something.</p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Something interesting that you can see.</p>
       </div>
    <</append>>
<</timed>>

<<timed 6s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Something that catches your attention.</p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Whatever you think is the most interesting sight on the river. </p>
       </div>
    <</append>>
<</timed>>

<<timed 12s>>
    <<replace "#nextButtonContainer">>
    <<button "Upload Picture">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>

:: headerUpload [nobr]
<header class="intro">
  <div class="logo-wrapper ">
  <img src="/assets/img/logo.png" alt="logo"/>
  </div>
  <div class="octo-title-wrapper">
    <h2 class="octo-title">OCTOPUS</h2>
    <span>Upload</span>
  </div>
</header>

:: picUpload [nobr]
<<set $prevpass to "ger6-3">>
<<set $pass to "picUpload">>
<<set $nextpass to "ger7-1">>
<<include "headerUpload">>
<main class="main-section upload">

<br>
<h3>Find a spot out to the river</h3>
<br>
<h3>Upload an image of something interesting </h3>

<br/>
<div class="logo-wrapper" id="loadingLogo">
<img src="/assets/img/logo.png" alt="logo" class="fastRotate"/>
<br/>
<h2 class="octo-title">Uploading...</h2>
</div>
<br>
<input type="file" accept="image/*" capture="camera" id="inputImg" class="hide">
<br>
  <br>
<div id="success">
<<button "Upload Image">>
  <<set $e to setup.handleFileUpload()>><</button>>
</div>
  <br>
  <br>
  <div id="error"></div>

</main> 
<<include "footerupload">>

:: footerupload [nobr]
<footer id="footerField"><<button "Back">><<goto "landing">><</button>>
</footer>
<<timed 12s>>
    <<append "#footerField">>
  <<button "I've uploaded my image">> <<goto $nextpass>><</button>>
    <</append>><</timed>>

:: ger7-1 [nobr]
<<set $prevpass to "picUpload">>
<<set $pass to "ger7-1">>
<<set $nextpass to "wordsAdded3a">>

<<include "_templateGeraldine">>

:: ger7-1-messages [nobr]

<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message">
       <p>Yes - you seem to have unlocked the next chapter.</p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<replace "#nextButtonContainer">>
    <<button "Next">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>

:: wordsAdded3a [nobr]
/* NARWAL  */
<<set $prevpass to "ger7-1">>
<<set $pass to "wordsAdded3a">>
<<set $nextpass to "ger8-1">>

<main class="main-words added">
  <div class="words">
    <div class="wordDisappear word">It</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">in</div>
    <div class="wordDisappear word">1949</div>
    <div class="wordDisappear word">-</div>
    <div class="wordDisappear word">a</div>
    <div class="wordDisappear word">narwhal</div>
    <div class="wordDisappear word">-</div>
    <div class="wordDisappear word">considered</div>
    <div class="wordDisappear word">a</div>
    <div class="wordDisappear word">‘Sea</div>
    <div class="wordDisappear word">Unicorn’</div>
    <div class="wordDisappear word">because</div>
    <div class="wordDisappear word">of</div>
    <div class="wordDisappear word">its</div>
    <div class="wordDisappear word">long</div>
    <div class="wordDisappear word">tusk</div>
    <div class="wordDisappear word">-</div>
    <div class="wordDisappear word">washed</div>
    <div class="wordDisappear word">up</div>
    <div class="wordDisappear word">along</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">river</div>
    <div class="wordDisappear word">.</div><br/>
    <div class="wordDisappear word">Many</div>
    <div class="wordDisappear word">myths</div>
    <div class="wordDisappear word">and</div>
    <div class="wordDisappear word">legends</div>
    <div class="wordDisappear word">are</div>
    <div class="wordDisappear word">based</div>
    <div class="wordDisappear word">on</div>
    <div class="wordDisappear word">misunderstood</div>
    <div class="wordDisappear word">sightings</div>
    <div class="wordDisappear word">of</div>
    <div class="wordDisappear word">real</div>
    <div class="wordDisappear word">creatures</div>
    <div class="wordDisappear word">.</div><br/>
    <div class="wordDisappear word">But</div>
    <div class="wordDisappear word">they</div>
    <div class="wordDisappear word">normally</div>
    <div class="wordDisappear word">are</div>
    <div class="wordDisappear word">found</div>
    <div class="wordDisappear word">in</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">arctic</div>
    <div class="wordDisappear word">-</div>
    <div class="wordDisappear word">so</div>
    <div class="wordDisappear word">finding</div>
    <div class="wordDisappear word">one</div>
    <div class="wordDisappear word">here</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">incredibly</div>
    <div class="wordDisappear word">rare</div>
    <div class="wordDisappear word">.</div><br/>
    <div class="wordDisappear word">It</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">so</div>
    <div class="wordDisappear word">rare</div>
    <div class="wordDisappear word">that</div>
    <div class="wordDisappear word">it</div>
    <div class="wordDisappear word">is</div>
    <div class="wordDisappear word">now</div>
    <div class="wordDisappear word">documented</div>
    <div class="wordDisappear word">in</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">Natural</div>
    <div class="wordDisappear word">History</div>
    <div class="wordDisappear word">Museum</div>
    <div class="wordDisappear word">in</div>
    <div class="wordDisappear word">London</div>
    <div class="wordDisappear word">.</div>
</div>


</main>

<<include "footer">>

<<done>>
  <<set $still to setup.stillWords()>>
<</done>>
<<timed 35s>>
  <<goto "bookrooting">>
  <</timed>>

:: ger8-1 [nobr]
<<set $prevpass to "ger7-1">>
<<set $pass to "ger8-1">>
<<set $nextpass to "ger8-2">>

<<include "_templateGeraldine">>

:: ger8-1-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>Yes! Another chapter rooted! </p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>I want to stop the Book Monster and find out who the author is - all on my first day. </p>
       </div>
    <</append>>
<</timed>>

<<timed 5s>>
    <<replace "#nextButtonContainer">>
    <<button "Next">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>

:: ger8-2 [nobr]
<<set $prevpass to "ger8-1">>
<<set $pass to "ger8-2">>
<<set $nextpass to "chapterTitle4">>

<<include "_templateGeraldine">>

:: ger8-2-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>Wait, this is strange.  </p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>This chapter doesn’t seem to have been eaten in the same way. </p>
       </div>
    <</append>>
<</timed>>

<<timed 6s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>You could find a bench to sit down if you’d like. </p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>I’ll open it to see what is going on. </p>
       </div>
    <</append>>
<</timed>>


<<timed 12s>>
    <<replace "#nextButtonContainer">>
    <<button "Next">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>

:: chapterTitle4 [nobr]
<<set $prevpass to "ger8-2">>
<<set $pass to "chapterTitle4">>
<<set $nextpass to "wordsAdded4a">>
<<set $currentChapter to 4>>
<<include "_chapterTitleTemplate">>
<<include "footerger">>

:: ger9-1 [nobr]
/* SPARE IN CASE THIS IS SUPPOSED TO BE GERALDINE */
<<set $prevpass to "chapterTitle4">>
<<set $pass to "ger9-1">>
<<set $nextpass to "ger9-2">>

<<include "_templateGeraldine">>

:: ger9-1-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>Deep below the ground, there are mysteries to be found. Big ones.</p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>In 1913, a prehistoric elephant skeleton was found in Upnor.</p>
       </div>
    <</append>>
<</timed>>

<<timed 6s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>It weighed 10 tonnes, which is the same as the weight of the Big Ben Bell.</p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>It was HUGE.</p>
       </div>
    <</append>>
<</timed>>

<<timed 12s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>And it used to roam here.</p>
       </div>
    <</append>>
<</timed>>

<<timed 15s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>They think around 130,000 and 40,000 years ago.</p>
       </div>
    <</append>>
<</timed>>

<<timed 18s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>The skeleton was discovered by Sydney Turner and he became famous because of the find.</p>
       </div>
    <</append>>
<</timed>>

<<timed 21s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Here’s his picture.</p>
       </div>
    <</append>>
<</timed>>

<<timed 23s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message-img-wrapper">
        <img id="book-image" src="assets/img/sydney.png" alt="Sydney Turner">
       </div>
    <</append>>
<</timed>>

<<timed 25s>>
    <<replace "#nextButtonContainer">>
    <<button "Next">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>



:: wordsAdded4a [nobr]
/* THIS ONE THE WORDS ARE THERE  */
<<set $prevpass to "chapterTitle4">>
<<set $pass to "wordsAdded4a">>
<<set $nextpass to "ger9-2">>

<main class="main-words added">
  <div class="words stationary">
    <div class="word">Deep</div>
    <div class=" word">below</div>
    <div class=" word">the</div>
    <div class=" word">ground</div>
    <div class=" word">,</div>
    <div class="word">there</div>
    <div class="word">are</div>
    <div class="word">mysteries</div>
    <div class="word">to</div>
    <div class="word">be</div>
    <div class="word">found</div>
    <div class="word">.</div><br/>
    <div class="word">Big</div>
    <div class="word">ones</div>
    <div class="word">.</div><br/>
    <div class="word">In</div>
    <div class="word">1913</div>
    <div class="word">,</div>
    <div class="word">a</div>
    <div class="word">prehistoric</div>
    <div class="word">elephant</div>
    <div class="word">skeleton</div>
    <div class="word">was</div>
    <div class="word">found</div>
    <div class="word">in</div>
    <div class="word">Upnor</div>
    <div class="word">.</div><br/>
    <div class="word">It</div>
    <div class="word">weighed</div>
    <div class="word">10</div>
    <div class="word">tonnes</div>
    <div class="word">,</div>
    <div class="word">which</div>
    <div class="word">is</div>
    <div class="word">the</div>
    <div class="word">same</div>
    <div class="word">as</div>
    <div class="word">the</div>
    <div class="word">weight</div>
    <div class="word">of</div>
    <div class="word">the</div>
    <div class="word">Big</div>
    <div class="word">Ben</div>
    <div class="word">Bell</div>
    <div class="word">.</div><br/>
    <div class="word">It</div>
    <div class="word">was</div>
    <div class="word">HUGE</div>
    <div class="word">.</div><br/>
    <div class="word">And</div>
    <div class="word">it</div>
    <div class="word">used</div>
    <div class="word">to</div>
    <div class="word">roam</div>
    <div class="word">here</div>
    <div class="word">.</div><br/>
    <div class="word">They</div>
    <div class="word">think</div>
    <div class="word">around</div>
    <div class="word">130,000</div>
    <div class="word">and</div>
    <div class="word">40,000</div>
    <div class="word">years</div>
    <div class="word">ago</div>
    <div class="word">.</div><br/>
    <div class="word">The</div>
    <div class="word">skeleton</div>
    <div class="word">was</div>
    <div class="word">discovered</div>
    <div class="word">by</div>
    <div class="word">Sydney</div>
    <div class="word">Turner</div>
    <div class="word">and</div>
    <div class="word">he</div>
    <div class="word">became</div>
    <div class="word">famous</div>
    <div class="word">because</div>
    <div class="word">of</div>
    <div class="word">the</div>
    <div class="word">find</div>
    <div class="word">.</div><br/>
    <div class="word">Here’s</div>
    <div class="word">his</div>
    <div class="word">picture</div>
    <div class="word">.</div>
     <div class="message-img-wrapper">
        <img  src="assets/img/sydney.jpg" alt="Sydney Turner">
       </div>
</div>


</main>


<<include "footer">>

<<done>>
  <<set $still to setup.stillWords()>>
<</done>>
<<timed 45s>>
  <<goto $nextpass>>
  <</timed>>

:: ger9-2 [nobr]
<<set $prevpass to "wordsAdded4a">>
<<set $pass to "ger9-2">>
<<set $nextpass to "wordsAdded4b">>
<<audio ":all" stop>>
<<include "_templateGeraldine">>

:: ger9-2-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>It seems the story has been rooted by local residents. </p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<replace "#nextButtonContainer">>
    <<button "Next">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>

:: wordsAdded4b [nobr]
/* THIS ONE THE WORDS ARE THERE AND GET TAKEN AWAY  */
<<set $prevpass to "ger9-2">>
<<set $pass to "wordsAdded4b">>
<<set $nextpass to "ger10-1">>

<main class="main-words added">
   <div class="wordLeft-container">
      <div class="wordLeft word">Elephant</div>
       <div class="wordLeft word">Big Ben Bell</div>
       <div class="wordLeft word">Mural</div>
    </div>
  <div class="words">
    <div class="wordDisappear word">Deep</div>
    <div class="wordDisappear word">below</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">ground</div>
    <div class="wordDisappear word">,</div>
    <div class="wordDisappear word">there</div>
    <div class="wordDisappear word">are</div>
    <div class="wordDisappear word">mysteries</div>
    <div class="wordDisappear word">to</div>
    <div class="wordDisappear word">be</div>
    <div class="wordDisappear word">found</div>
    <div class="wordDisappear word">.</div><br/>
    <div class="wordDisappear word">Big</div>
    <div class="wordDisappear word">ones</div>
    <div class="wordDisappear word">.</div><br/>
    <div class="wordDisappear word">In</div>
    <div class="wordDisappear word">1913</div>
    <div class="wordDisappear word">,</div>
    <div class="wordDisappear word">a</div>
    <div class="wordDisappear word">prehistoric</div>
    <div class="wordDisappear word">elephant</div>
    <div class="wordDisappear word">skeleton</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">found</div>
    <div class="wordDisappear word">in</div>
    <div class="wordDisappear word">Upnor</div>
    <div class="wordDisappear word">.</div><br/>
    <div class="wordDisappear word">It</div>
    <div class="wordDisappear word">weighed</div>
    <div class="wordDisappear word">10</div>
    <div class="wordDisappear word">tonnes</div>
    <div class="wordDisappear word">,</div>
    <div class="wordDisappear word">which</div>
    <div class="wordDisappear word">is</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">same</div>
    <div class="wordDisappear word">as</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">weight</div>
    <div class="wordDisappear word">of</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">Big</div>
    <div class="wordDisappear word">Ben</div>
    <div class="wordDisappear word">Bell</div>
    <div class="wordDisappear word">.</div><br/>
    <div class="wordDisappear word">It</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">HUGE</div>
    <div class="wordDisappear word">.</div><br/>
    <div class="wordDisappear word">And</div>
    <div class="wordDisappear word">it</div>
    <div class="wordDisappear word">used</div>
    <div class="wordDisappear word">to</div>
    <div class="wordDisappear word">roam</div>
    <div class="wordDisappear word">here</div>
    <div class="wordDisappear word">.</div><br/>
    <div class="wordDisappear word">They</div>
    <div class="wordDisappear word">think</div>
    <div class="wordDisappear word">around</div>
    <div class="wordDisappear word">130,000</div>
    <div class="wordDisappear word">and</div>
    <div class="wordDisappear word">40,000</div>
    <div class="wordDisappear word">years</div>
    <div class="wordDisappear word">ago</div>
    <div class="wordDisappear word">.</div><br/>
    <div class="wordDisappear word">The</div>
    <div class="wordDisappear word">skeleton</div>
    <div class="wordDisappear word">was</div>
    <div class="wordDisappear word">discovered</div>
    <div class="wordDisappear word">by</div>
    <div class="wordDisappear word">Sydney</div>
    <div class="wordDisappear word">Turner</div>
    <div class="wordDisappear word">and</div>
    <div class="wordDisappear word">he</div>
    <div class="wordDisappear word">became</div>
    <div class="wordDisappear word">famous</div>
    <div class="wordDisappear word">because</div>
    <div class="wordDisappear word">of</div>
    <div class="wordDisappear word">the</div>
    <div class="wordDisappear word">find</div>
    <div class="wordDisappear word">.</div><br/>
    <div class="wordDisappear word">Here’s</div>
    <div class="wordDisappear word">his</div>
    <div class="wordDisappear word">picture</div>
    <div class="wordDisappear word">.</div>
</div>


</main>


<<include "footer">>

<<done>>
  <<timed 5s>>
  <<set $move to setup.moveWords()>>
  <</timed>>
<</done>>

<<timed 10s>>

   <<audio "monster4" "play">>
  <</timed>>

<<timed 20s>>
  <<goto $nextpass>>
  <</timed>>

:: ger10-1 [nobr]
<<set $prevpass to "wordsAdded4b">>
<<set $pass to "ger10-1">>
<<set $nextpass to "ger10-2">>
<<audio ":all" stop>>
<<include "_templateGeraldine">>

:: ger10-1-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>Ok I spoke too soon. </p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>It has been partially rooted. </p>
       </div>
    <</append>>
<</timed>>

<<timed 5s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>The story is in Chatham as a mural. </p>
       </div>
    <</append>>
<</timed>>

<<timed 7s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>But unless we find out where it is we might lose the Chapter. </p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<replace "#nextButtonContainer">>
    <<button "Next">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>

:: ger10-2 [nobr]
<<set $prevpass to "ger10-1">>
<<set $pass to "ger10-2">>
<<set $nextpass to "360image">>
<<audio ":all" stop>>
<<include "_templateGeraldine">>

:: ger10-2-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>I’m going to see if I can patch you into a CCTV camera near the mural by unlocking something here at OCTOPUS. </p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>See if you can work out what the name is of the place the mural is in. </p>
       </div>
    <</append>>
<</timed>>

<<timed 5s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Ok - I don’t want to rush you but it seems we only have 30 seconds to find out the information. </p>
       </div>
    <</append>>
<</timed>>

<<timed 7s>>
    <<replace "#nextButtonContainer">>
    <<button "Okay!">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>


:: timer [nobr]
  <<audio "30s" "play">>
<<set $seconds to 30>>
<span id="countdown"><span class="secs">$seconds</span> <span class="extra">seconds</span></span>


<<silently>>
	<<repeat 1s>>
		<<set $seconds to $seconds - 1>>
		<<if $seconds gt 0>>
			<<replace "#countdown">><span class="secs">$seconds</span> <span class="extra">seconds</span><</replace>>
		<<else>>
			<<replace "#countdown">><strong>Too Late</strong><</replace>>
    
  
			<<stop>>
		<</if>>
	<</repeat>>
<</silently>>

:: header360elephant[nobr]
<header class="pano timer "><span>Find the name of the road</span>
  <<include "timer">></header>

:: 360image [nobr]
<<set $prevpass to "ger10-2">>
<<set $pass to "360image">>
<<set $nextpass to "ger11-1">>
<<include "header360elephant">>
	<main id="main" class="pano">
	/* <<if $audioOn is true>><audio src="https://remote.co.com/MoTT/AgentTraining/assets/audio/Welcome1.mp3" autoplay>Audio not supported in your browser</audio><</if>> */

<iframe width="90%" height="500px" allowFullScreen="true" allow="accelerometer; magnetometer; gyroscope" style="display:block; margin:20px auto; border:0 none; max-width:880px;border-radius:8px; box-shadow: 0 1px 1px rgba(0,0,0,0.11),0 2px 2px rgba(0,0,0,0.11),0 4px 4px rgba(0,0,0,0.11),0 6px 8px rgba(0,0,0,0.11),0 8px 16px rgba(0,0,0,0.11);" src="https://panoraven.com/en/embed/S8FIEpERCW"></iframe>


	</main>
	<<include "footer360elephant">>


:: pw360elephant [nobr]
<div id="codewordWrapper" class="codeword-wrapper">

    <label for="textbox--password" tabindex="0" ><span aria-label="Enter the word below" role="label">CODEWORD:</span></label>

    /% CODEWORD INPUT %/
      <div class="input-wrapper">
     <div class="code-input pano">
       <<textbox "_password" "" >>
      </div>
   <span class="button-wrapper" aria-label="Click Button to go Check your answer">
     <<button "Enter">>  
   /% STANDARDISE INPUT %/
       <<set _password to _password.toUpperCase()>>
     /% CODEWORD CORRECT %/
       <<if _password isnot "" and (_password is "NEWNHAM STREET" or _password is "NEWNHAM" or _password is "NEWNHAM " or _password is "NEWNHAM STREET ")>>
            <<audio "correct" play>>
       <<replace "#elecoderesult">><h2 class="">Correct!</h2><</replace>>
       <<timed 3s>><<goto $nextpass>><</timed>>
      <</if>>
        /% CODEWORD INCORRECT %/
     <<if _password isnot "" and (_password isnot "NEWNHAM STREET" and _password isnot "NEWNHAM" or _password isnot "NEWNHAM " or _password isnot "NEWNHAM STREET ")>>
        <<audio "error" play>>
        <<replace "#elecoderesult">><h2>That's not right.</h2><</replace>>
      <<timed 1.5s>><<replace "#elecoderesult">><</replace>><</timed>>
        <</if>><</button>> 
     </span>

    /% CODEWORD FEEDBACK %/
    </div>
        <div id="elecoderesult"></div>
</div>

:: footer360elephant [nobr]

<footer class="pano">
<nav class=""><div id="back" class="button-wrapper">
 <<button "Back">>
        <<goto "landing">>
    <</button>>
</div></nav>
  <<include "pw360elephant">></footer>

:: ger11-1 [nobr]
<<set $prevpass to "360image">>
<<set $pass to "ger11-1">>
<<set $nextpass to "chapterTitle5">>
<<audio ":all" stop>>
<<include "_templateGeraldine">>

:: ger11-1-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>You did it. </p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Ok we are so close this is the fifth and final chapter. </p>
       </div>
    <</append>>
<</timed>>

<<timed 5s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>And maybe finding out who the author is! </p>
       </div>
    <</append>>
<</timed>>

<<timed 7s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Let’s load up the final chapter. </p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<replace "#nextButtonContainer">>
    <<button "Okay!">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>

:: chapterTitle5 [nobr]
<<set $prevpass to "ger11-1">>
<<set $pass to "chapterTitle5">>
<<set $nextpass to "wordsLeft5">>
<<set $currentChapter to 5>>
<<include "_chapterTitleTemplate">>
<<include "footerger">>

:: wordsLeft5 [nobr]
<<set $prevpass to "chapterTitle5">>
<<set $pass to "wordsLeft5">>
<<set $nextpass to "ger12-1">>
<<audio ":all" stop>>
<<audio "wordeat" play>>
<main class="main-words">

    <main>
    <div class="wordLeft-container">
      <div class="wordLeft word">Mines</div>
       <div class="wordLeft word">Detonation</div>
       <div class="wordLeft word">Explosion</div>
    </div>
    <div class="words">
        <div class="wordDisappear word">The</div>
        <div class="wordDisappear word">Medway</div>
        <div class="wordDisappear word">Queen</div>
        <div class="wordDisappear word">.</div>
        <div class="wordDisappear word">A</div>
        <div class="wordDisappear word">Paddle</div>
        <div class="wordDisappear word">Steamer</div>
        <div class="wordDisappear word">.</div>
        <div class="wordDisappear word">With</div>
        <div class="wordDisappear word">a</div>
        <div class="wordDisappear word">twist</div>
        <div class="wordDisappear word">The</div>
        <div class="wordDisappear word">Medway</div>
        <div class="wordDisappear word">Queen</div>
        <div class="wordDisappear word">had</div>
        <div class="wordDisappear word">the</div>
        <div class="wordDisappear word">ability</div>
        <div class="wordDisappear word">to</div>
        <div class="wordDisappear word">sweep</div>
        <div class="wordDisappear word">for</div>
        <div class="wordDisappear word">mines</div>
        <div class="wordDisappear word">.</div>
        <div class="wordDisappear word">And</div>
        <div class="wordDisappear word">save</div>
        <div class="wordDisappear word">lives</div>
        <div class="wordDisappear word">.</div>
        <div class="wordDisappear word">She</div>
        <div class="wordDisappear word">swept</div>
        <div class="wordDisappear word">mines</div>
        <div class="wordDisappear word">to</div>
        <div class="wordDisappear word">protect</div>
        <div class="wordDisappear word">the</div>
        <div class="wordDisappear word">waters</div>
        <div class="wordDisappear word">in</div>
        <div class="wordDisappear word">WW2</div>
        <div class="wordDisappear word">in</div>
        <div class="wordDisappear word">the</div>
        <div class="wordDisappear word">10th</div>
        <div class="wordDisappear word">Minesweeping</div>
        <div class="wordDisappear word">Flotilla</div>
        <div class="wordDisappear word">.</div>
</div>

</main>

<<include "footer">>

<<done>>
<<set $move to setup.moveWords()>>
<</done>>

<<timed 10s>>
  <<addclass "main" "flashing-effect">>
  <<audio ":all" stop>>
<<audio "siren" "play">>
  <</timed>>

<<timed 18s>>
  <<goto $nextpass>>
  <</timed>>

/* :: alarm [nobr]
<<set $prevpass to "wordsLeft5">>
<<set $pass to "alarm">>
<<set $nextpass to "ger12-1">>
<<audio ":all" stop>>
<<audio "siren" "play">>
<main class="flashing-effect">
<h2>ALARM</h2>
</main>
<<include "footer">> */

:: ger12-1 [nobr]
/* TODO CHANGE TO ALARM  */
<<set $prevpass to "wordsLeft5">>
<<set $pass to "ger12-1">>
<<set $nextpass to "minesChallenge">>
<<audio ":all" stop>>
<<timed 0.1s>>
<<addclass "header" "alarm">>
<<addclass "body" "alarm">>
<</timed>>

<<include "_templateGeraldine">>

:: ger12-1-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>Wait - what is that? Did you set off an alarm here at OCTOPUS? </p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Those words didn’t sound good either. Mines. Detonation. Explosion. 3 things I would like to avoid. </p>
       </div>
    <</append>>
<</timed>>

<<timed 5s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>It’s saying here we need to stop mines from exploding. Exploding here at OCTOPUS HQ. </p>
       </div>
    <</append>>
<</timed>>

<<timed 7s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Mines that have been placed by the Monster. </p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>How can this be happening!? How is the Monster doing this?! </p>
       </div>
    <</append>>
<</timed>>

<<timed 11s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>This can’t be good. </p>
       </div>
    <</append>>
<</timed>>

<<timed 13s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>I’m sending the locations to your screen. </p>
       </div>
    <</append>>
<</timed>>

<<timed 15s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Head to the locations now and send me the codes. </p>
       </div>
    <</append>>
<</timed>>

<<timed 17s>>
    <<replace "#nextButtonContainer">>
    <<button "Okay!">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>

/* :: minesChallenge [nobr]
<<set $prevpass to "ger12-1">>
<<set $pass to "minesChallenge">>
<<set $nextpass to "ger13-1">>
<main>
<p>1 - Facing the Library - the Cannon on the left - the number on there.</p>
<p>2 - Near the middle cannon - there’s a sign - the number is the range of the 18 pounder cannon in yards</p>
<p>3- Code on the Lamp Post near the Soldier & Dog (you may need to look up)</p>

<<include "pwMines">>
</main>

<<include "footer">> */

:: headermines [nobr]
<header class="intro">
  <div class="logo-wrapper ">
  <img src="/assets/img/logo.png" alt="logo"/>
  </div>
  <div class="octo-title-wrapper">
    <h2 class="octo-title">OCTOPUS</h2>
    /* <span>Rooter</span> */
  </div>
</header>

:: minesChallenge [nobr]
<<set $prevpass to "ger12-1">>
<<set $pass to "minesChallenge">>
<<set $nextpass to "ger13-1">>
<<set $correctansmines to []>>
<<include "headermines">>

<main class="main-section codebreaking" id="mainMount">
<div id="clueMount">
    <h2 class="octo-title">Locations</h2>
  </div>
  <br/>

<div class="wordcontainer">
<<set $current to "">>
/* Letter S  */
<div class="letter-item l" id="letterItemL">
  <<link "1">>
   <<set $current to "l">>
    <<if $current is "l">> 
    <<replace "#clueMount">>
        /* Make box gold, turn off any other gold boxes */
         <<addclass "#letterItemL" "current">> 
        <<removeclass "#letterItemA" "current">>   
        <<removeclass "#letterItemC" "current">>   
     
      <h2 class="octo-title">Location 1</h2>
       <p>Facing the Library - the Cannon on the left - the number on there.</p>

    <</replace>>
  
    <<replace "#inputMount">>
        <div id="coderesult"></div>
    
        <div class="code-input"><<textbox "$l" "">></div>
        <<button "Enter">>
       
        /% PASSWORD CODE %/
        <<set $l to $l.toUpperCase()>>
        /% CODEWORD CORRECT %/
        <<if $l isnot "" and $l is "24">>
        <<timed 0.1s>>
         <<replace "#coderesult">><div class="confirmation" id="confirmation">Correct!</div><</replace>>
        <</timed>>
        <<timed 1s>>
            <<run $correctansmines.push("L")>>
            <<include "checkcorrectansmines">>
            <<replace "#letterItemL">><div class="correct-letter">
               
              <img src="assets/img/tick.png" alt="tick"/></div>
            <</replace>>
            <<replace "#inputMount">><</replace>>
             <<replace "#clueMount">><</replace>>
        <</timed>>
        <</if>>
        /% CODEWORD INCORRECT %/
        <<if $l isnot "" and $l isnot "24">>
        <<timed 0.1s>>
          <<replace "#coderesult">><div class="confirmation" id="confirmation">That's not right...</div><</replace>>
         <</timed>>
        <<timed 1.5s>><<replace "#coderesult">><</replace>><</timed>>
        <</if>><</button>>
    <</replace>>
   <</if>>   

  <</link>>
</div>
/* Letter A  */
<div class="letter-item a" id="letterItemA">
  <<link "2">>

   <<set $current to "a">>
    <<if $current is "a">> 
    <<replace "#clueMount">>
        /* Make box gold, turn off any other gold boxes */
         <<removeclass "#letterItemL" "current">> 
        <<addclass "#letterItemA" "current">>   
        <<removeclass "#letterItemC" "current">>   

   <h2 class="octo-title">Location 2</h2>
       <p>Near the middle cannon - there’s a sign - the number is the range of the 18 pounder cannon in yards</p>
    <</replace>>
    <<replace "#inputMount">>
        <div id="coderesult"></div>
        <div class="code-input"><<textbox "$a" "">></div>
        <<button "Enter">>
       
        /% PASSWORD CODE %/
        <<set $a to $a.toUpperCase()>>
        /% CODEWORD CORRECT %/
        <<if $a isnot "" and $a is "3500">>
        <<replace "#coderesult">><div class="confirmation" id="confirmation">Correct!</div><</replace>>
        <<run $correctansmines.push("A")>>
            <<include "checkcorrectansmines">>
        <<timed 1s>>
            <<replace "#letterItemA">><div class="correct-letter">
              <img src="assets/img/tick.png" alt="tick"/></div>
            <</replace>>
            <<replace "#inputMount">><</replace>>
             <<replace "#clueMount">><</replace>>
        <</timed>>
        <</if>>
        /% CODEWORD INCORRECT %/
        <<if $a isnot "" and $a isnot "3500">>
        <<replace "#coderesult">><div class="confirmation" id="confirmation">That's not right...</div><</replace>>
        <<timed 1.5s>><<replace "#coderesult">><</replace>><</timed>>
        <</if>><</button>>
    <</replace>>
   <</if>>   
   /* <<toggleclass "#sclue" "hide">> */
  <</link>>
</div>
/* Letter L  */
<div class="letter-item l" id="letterItemC">
  <<link "3">>
   /* <<textbox "$s" "">> */
   /* <<toggleclass $current "current">> */
   <<set $current to "l">>
    <<if $current is "l">> 
    <<replace "#clueMount">>
        /* Make box gold, turn off any other gold boxes */
         <<removeclass "#letterItemL" "current">> 
        <<removeclass "#letterItemA" "current">>   
        <<addclass "#letterItemC" "current">>   

   <h2 class="octo-title">Location 3</h2>
       <p>Code on the Lamp Post near the Soldier & Dog (you may need to look up) </p>
    <</replace>>
    <<replace "#inputMount">>
        <div id="coderesult"></div>
        <div class="code-input"><<textbox "$c" "">></div>
        <<button "Enter">>
       
        /% PASSWORD CODE %/
        <<set $c to $c.toUpperCase()>>
        /% CODEWORD CORRECT %/
        <<if $c isnot "" and $c is "GCC319">>
        <<replace "#coderesult">><div class="confirmation" id="confirmation">Correct! </div><</replace>>
        <<timed 1s>>
            <<run $correctansmines.push("C")>>
            <<include "checkcorrectansmines">>
            <<replace "#letterItemC">><div class="correct-letter">
              <img src="assets/img/tick.png" alt="tick"/></div>
            <</replace>>
            <<replace "#inputMount">><</replace>>
             <<replace "#clueMount">><</replace>>
        <</timed>>
        <</if>>
        /% CODEWORD INCORRECT %/
        <<if $c isnot "" and $c isnot "GCC319">>
        <<replace "#coderesult">><div class="confirmation" id="confirmation">That's not right...</div><</replace>>
        <<timed 1.5s>><<replace "#coderesult">><</replace>><</timed>>
        <</if>><</button>>
    <</replace>>
   <</if>>   
   /* <<toggleclass "#sclue" "hide">> */
  <</link>>
</div>


</div>
<br>
 
<br>
<div id="inputMount" class="mine-input"></div>
<br>
<br>


</main>
<<include "footer">>


:: checkcorrectansmines[nobr]

<<if $correctansmines.includesAll("L", "A", "C")>>

<<timed 3s>>

  <<goto $nextpass>>
  <</timed>>
<</if>>




<div id="resultbutton">
  /% CODEWORD INPUT %/
  <div class="code-input multibox center-col">
    <div class="multi-input-wrapper">
      <<textbox "$code1" "">>
      <<textbox "$code2" "">>
      <<textbox "$code3" "">>
    </div>
    <br/>
    <div id="coderesult"></div>
    <br/>
 <span class="button-wrapper" aria-label="Click button to see if answer is correct ">
    
    <<button "Enter">>
  </div>
  /% PASSWORD CODE %/
  <<set $code1 to $code1.toUpperCase()>>
  <<set $code2 to $code2.toUpperCase()>>
  <<set $code3 to $code3.toUpperCase()>>
  /% CODEWORD CORRECT %/
  <<if $code1 isnot "" and $code2 isnot "" and $code3 isnot "">>
    <<if ($code1 + $code2 + $code3) is "243500GCC319">>
     <<replace "#coderesult">><p>CORRECT</p><</replace>>
      <<audio "correct" play>>
      <<timed 3s>><<goto $nextpass>><</timed>>
    <</if>>
  <</if>>
  /% CODEWORD INCORRECT %/
  <<if $code1 isnot "" and $code2 isnot "" and $code3 isnot "">>
    <<if ($code1 + $code2 + $code3) isnot "243500GCC319">>
         <<replace "#coderesult">><p>That's not right.</p><</replace>>
      <<timed 1.5s>><<replace "#coderesult">><</replace>><</timed>>
    <</if>>
  <</if>>
<</button>>

</span>
</div>
</div>

:: ger13-1 [nobr]
<<set $prevpass to "minesChallenge">>
<<set $pass to "ger13-1">>
<<set $nextpass to "wordsAdded5">>

<<include "_templateGeraldine">>

:: ger13-1-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>You have unlocked the fifth and final chapter . </p>
       </div>
    <</append>>
<</timed>>

   <<timed 4s>>
      <<replace "#nextButtonContainer">>
      <<button "Next">>
          <<goto $nextpass>>
        <</button>>
          <</replace>>
    <</timed>>

:: wordsAdded5 [nobr]
<<set $prevpass to "ger13-1">>
<<set $pass to "wordsAdded5">>
<<set $nextpass to "ger14-1">>

<main class="main-words added">
    <div class="words">
        <div class="wordDisappear word">The</div>
        <div class="wordDisappear word">Medway</div>
        <div class="wordDisappear word">Queen</div>
        <div class="wordDisappear word">.</div>
        <div class="wordDisappear word">A</div>
        <div class="wordDisappear word">Paddle</div>
        <div class="wordDisappear word">Steamer</div>
        <div class="wordDisappear word">.</div>
        <div class="wordDisappear word">With</div>
        <div class="wordDisappear word">a</div>
        <div class="wordDisappear word">twist</div>
        <div class="wordDisappear word">The</div>
        <div class="wordDisappear word">Medway</div>
        <div class="wordDisappear word">Queen</div>
        <div class="wordDisappear word">had</div>
        <div class="wordDisappear word">the</div>
        <div class="wordDisappear word">ability</div>
        <div class="wordDisappear word">to</div>
        <div class="wordDisappear word">sweep</div>
        <div class="wordDisappear word">for</div>
        <div class="wordDisappear word">mines</div>
        <div class="wordDisappear word">.</div>
        <div class="wordDisappear word">And</div>
        <div class="wordDisappear word">save</div>
        <div class="wordDisappear word">lives</div>
        <div class="wordDisappear word">.</div>
        <div class="wordDisappear word">She</div>
        <div class="wordDisappear word">swept</div>
        <div class="wordDisappear word">mines</div>
        <div class="wordDisappear word">to</div>
        <div class="wordDisappear word">protect</div>
        <div class="wordDisappear word">the</div>
        <div class="wordDisappear word">waters</div>
        <div class="wordDisappear word">in</div>
        <div class="wordDisappear word">WW2</div>
        <div class="wordDisappear word">in</div>
        <div class="wordDisappear word">the</div>
        <div class="wordDisappear word">10th</div>
        <div class="wordDisappear word">Minesweeping</div>
        <div class="wordDisappear word">Flotilla</div>
        <div class="wordDisappear word">.</div>
        <div class="wordDisappear word">Next</div>
        <div class="wordDisappear word">,</div>
        <div class="wordDisappear word">she</div>
        <div class="wordDisappear word">was</div>
        <div class="wordDisappear word">part</div>
        <div class="wordDisappear word">of</div>
        <div class="wordDisappear word">Operation</div>
        <div class="wordDisappear word">Dynamo</div>
        <div class="wordDisappear word">,</div>
        <div class="wordDisappear word">where</div>
        <div class="wordDisappear word">around</div>
        <div class="wordDisappear word">850</div>
        <div class="wordDisappear word">small</div>
        <div class="wordDisappear word">ships</div>
        <div class="wordDisappear word">braved</div>
        <div class="wordDisappear word">the</div>
        <div class="wordDisappear word">channel</div>
        <div class="wordDisappear word">crossing</div>
        <div class="wordDisappear word">to</div>
        <div class="wordDisappear word">save</div>
        <div class="wordDisappear word">Allied</div>
        <div class="wordDisappear word">Troops</div>
        <div class="wordDisappear word">from</div>
        <div class="wordDisappear word">Dunkirk</div>
        <div class="wordDisappear word">.</div>
        <div class="wordDisappear word">She</div>
        <div class="wordDisappear word">saved</div>
        <div class="wordDisappear word">around</div>
        <div class="wordDisappear word">7000</div>
        <div class="wordDisappear word">Allied</div>
        <div class="wordDisappear word">soldiers</div>
        <div class="wordDisappear word">,</div>
        <div class="wordDisappear word">and</div>
        <div class="wordDisappear word">was</div>
        <div class="wordDisappear word">dubbed</div>
        <div class="wordDisappear word">the</div>
        <div class="wordDisappear word">"Heroine</div>
        <div class="wordDisappear word">of</div>
        <div class="wordDisappear word">Dunkirk"</div>
        <div class="wordDisappear word">.</div>
</div>

</main>


<<include "footer">>

<<done>>
  <<set $still to setup.stillWords()>>
<</done>>
<<timed 25s>>
  <<goto $nextpass>>
  <</timed>>

:: ger14-1 [nobr]
<<set $prevpass to "wordsAdded5">>
<<set $pass to "ger14-1">>
<<set $nextpass to "ger14-2">>

<<include "_templateGeraldine">>

:: ger14-1-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>Wow - what a boat. </p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>I never thought I’d say that sentence. </p>
       </div>
    <</append>>
<</timed>>

<<timed 5s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>And after its lifesaving service, it took on a new life. </p>
       </div>
    <</append>>
<</timed>>

<<timed 7s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>The life of the party. </p>
       </div>
    <</append>>
<</timed>>

<<timed 9s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>The Lifesaving Boat became the Lifesaving Club. </p>
       </div>
    <</append>>
<</timed>>

<<timed 11s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>A club for all to dance the night away. </p>
       </div>
    <</append>>
<</timed>>

<<timed 13s>>
    <<replace "#nextButtonContainer">>
    <<button "Next">>
        <<goto "bookrooting">>
    <</button>>
    <</replace>>
<</timed>>

:: ger14-2 [nobr]
<<set $prevpass to "ger14-1">>
<<set $pass to "ger14-2">>
<<set $nextpass to "ger14-3">>

<<include "_templateGeraldine">>


:: ger14-2-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>TWIST. </p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>I love a good twist. </p>
       </div>
    <</append>>
<</timed>>

<<timed 5s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>I wasn’t expecting that at all. </p>
       </div>
    <</append>>
<</timed>>

<<timed 7s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Were you? </p>
       </div>
    <</append>>
<</timed>>

<<timed 13s>>
    <<replace "#nextButtonContainer">>
    <<button "No!">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>

:: ger14-3 [nobr]
<<set $prevpass to "ger14-2">>
<<set $pass to "ger14-3">>
<<set $nextpass to "ger14-4">>

<<include "_templateGeraldine">>


:: ger14-3-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>Ok we have all of the parts we need. </p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>5 chapters. </p>
       </div>
    <</append>>
<</timed>>

<<timed 5s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>We need to go to the Medway Map to complete the rooting.</p>
       </div>
    <</append>>
<</timed>>

<<timed 7s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Doing this will root the book forever. </p>
       </div>
    <</append>>
<</timed>>

<<timed 10s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Near the casemates you can find the map of Chatham.  </p>
       </div>
    <</append>>
<</timed>>


<<timed 13s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Stand around the map.  </p>
       </div>
    <</append>>
<</timed>>


<<timed 16s>>
    <<replace "#nextButtonContainer">>
    <<button "We're there">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>


:: ger14-4 [nobr]
/* ROOTING  */
<<set $prevpass to "ger14-3">>
<<set $pass to "ger14-4">>
<<set $nextpass to "dragIntoBook">>

<<include "_templateGeraldine">>


:: ger14-4-messages [nobr]
<<timed 0.1s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
          <p>We stand here at the Chatham map.  </p>
       </div>
    <</append>>
<</timed>>

<<timed 3s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>A place where we can see some of the places of modern day Chatham </p>
       </div>
    <</append>>
<</timed>>

<<timed 5s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>The present shaped by the past</p>
       </div>
    <</append>>
<</timed>>

<<timed 7s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Some of the past that you have just discovered</p>
       </div>
    <</append>>
<</timed>>

<<timed 10s>>
    <<audio "ping1" "play">>
    <<replace "#msgMount">>
       <div class="message"> 
        <p>It’s time to fill the book again </p>
       </div>
    <</replace>>
<</timed>>


<<timed 13s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>It’s time to root the book again.  </p>
       </div>
    <</append>>
<</timed>>

<<timed 16s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Here in the present.  </p>
       </div>
    <</append>>
<</timed>>

<<timed 19s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>We are halting the Book Monster with every act we have taken </p>
       </div>
    <</append>>
<</timed>>

<<timed 24s>>
    <<audio "ping1" "play">>
    <<append "#msgMount">>
       <div class="message"> 
        <p>Drag the chapters into the book. And when I say, join me in saying BE GONE GOOGLY MOOGLY. </p>
       </div>
    <</append>>
<</timed>>


<<timed 16s>>
    <<replace "#nextButtonContainer">>
    <<button "We're ready">>
        <<goto $nextpass>>
    <</button>>
    <</replace>>
<</timed>>


:: headerDrag [nobr]
<header class="drag">
 <div class="drag-msg-wrapper"><h2 class="octo-title" id="message">DRAG THE CHAPTERS BACK INTO THE BOOK</h2></div>
</header>

/* :: headerDrag [nobr]
<header class="intro">
  <div class="logo-wrapper ">
  <img src="/assets/img/logo.png" alt="logo"/>
  </div>
  <div class="octo-title-wrapper">
    <h2 class="octo-title">OCTOPUS</h2>
 
    <span>Rooting</span>
  </div>

</header> */
    

:: dragIntoBook[nobr]
<<set $prevpass to "ger14-4">>
<<set $pass to "dragIntoBook">>
<<set $nextpass to "ger15-1">>
<<include "headerDrag">>
<div id="port-container">
  <img id="book-image" src="assets/img/open-book.png" alt="Port">
  <div id="target-area1"></div>
   <div id="target-area2"></div>
   
  <img id="chapter-one" class="draggable-image" src="/assets/img/chapter1.png" alt="Chapter 1" draggable="true">
  <img id="chapter-two" class="draggable-image" src="/assets/img/chapter2.png" alt="Chapter 2" draggable="true">
  <img id="chapter-three" class="draggable-image" src="/assets/img/chapter3.png" alt="Chapter 3" draggable="true">
 <img id="chapter-four" class="draggable-image" src="/assets/img/chapter4.png" alt="Chapter 4" draggable="true">
  <img id="chapter-five" class="draggable-image" src="/assets/img/chapter5.png" alt="Chapter 5" draggable="true">
</div>
<<include "footer">>

<<done>>
<<set $s to setup.boatMultiDraggable()>><</done>>


:: ger15-1 [nobr]

<<set $prevpass to "dragIntoBook">>
<<set $pass to "ger15-1">>
<<set $nextpass to "begone">>

<<include "_templateGeraldine">>

:: ger15-1-messages [nobr]

<<timed 0.1s>>
      <<append "#msgMount">>
       <div class="message"> 
          <p>We are now ready to vanquish the Book Monster</p>
       </div>
        <</append>>
    <</timed>>

     <<timed 3s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>You have proven you have connected to Chatham’s past </p>
       </div>
        <</append>>
    <</timed>>

   <<timed 5s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>And with that, rooted it in the present.</p>
       </div>
        <</append>>
    <</timed>>


     <<timed 8s>>
    <<audio "ping1" "play">>
        <<replace "#msgMount">>
       <div class="message"> 
          <p>You have proven you can face the Book Monster. </p>
       </div>
        <</replace>>
    <</timed>>

     <<timed 11s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>That you are not afraid to look at our past</p>
       </div>
        <</append>>
    <</timed>>

      <<timed 14s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>And how it has shaped our present.  </p>
       </div>
        <</append>>
    <</timed>>


    <<timed 17s>>
    <<audio "ping1" "play">>
        <<replace "#msgMount">>
       <div class="message"> 
          <p>You have stopped Googly Moogly. </p>
       </div>
        <</replace>>
    <</timed>>

     <<timed 20s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>And you have helped OCTOPUS </p>
       </div>
        <</append>>
    <</timed>>

     <<timed 21s>>
    <<audio "ping1" "play">>
        <<append "#msgMount">>
       <div class="message"> 
          <p>You are OCTOPUS. </p>
       </div>
        <</append>>
    <</timed>>


  <<timed 24s>>
      <<replace "#nextButtonContainer">>
      <<button "We're ready">>
          <<goto $nextpass>>
        <</button>>
          <</replace>>
    <</timed>>

:: headerbegone [nobr]
<header class="intro">
  <div class="logo-wrapper black">
  <img src="/assets/img/logo.png" alt="logo"/>
  </div>
  <div class="octo-title-wrapper">
    <h2 class="octo-title">OCTOPUS</h2>
    <span>Rooter</span>
  </div>
</header>

:: begone [nobr]
<<set $prevpass to "ger15-1">>
<<set $pass to "begone">>
<<set $nextpass to "begone">>
<<addclass "body" "green">>
<<include "headerbegone">>
<main class="begone">
  <div class="motto-container"><span class="octo-title"> Head back to the library and ask for the OCTOPUS LEDGER</span></div>
  <br/>
  <div id="mount"></div>
</main>
<<include "footerend">>

<<timed 5s>>
  <<replace "#mount">>

    <</replace>>
  <</timed>>




